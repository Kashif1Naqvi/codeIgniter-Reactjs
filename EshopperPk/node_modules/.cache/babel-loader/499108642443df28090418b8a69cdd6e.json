{"ast":null,"code":"/*!\n * jQuery Lens Simple Plugin\n * Copyright (c) 2014 Pietro Simone Di Chiara\n * Version: 1.0.1 (05-APR-2013)\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/mit-license.php\n * Requires: jQuery v1.7.0 or later\n */\n(function ($) {\n  \"use strict\";\n\n  var ver = 'simpleLens-1.0.1';\n\n  function debug(message) {\n    if (window.console) {\n      console.log(message);\n    }\n  }\n\n  $.fn.simpleLens = function (options) {\n    var opts = $.extend({}, $.fn.simpleLens.defaults, options);\n    var big_image = {\n      init: function init(image) {\n        this.height = image.height();\n        this.width = image.width();\n        this.offset = image.offset();\n        this.position = image.position();\n        this.calc_image_limits();\n      },\n      calc_image_limits: function calc_image_limits() {\n        this.limits = {\n          x_left: this.position.left,\n          x_right: this.position.left + this.width,\n          y_top: this.position.top,\n          y_bottom: this.position.top + this.height\n        };\n      },\n      calc_view_position: function calc_view_position(e) {\n        return {\n          org_x: e.pageX - this.offset.left,\n          org_y: e.pageY - this.offset.top\n        };\n      }\n    };\n    var cursor = {\n      init: function init(parent_anchor, lens_container, ratio, position) {\n        this.parent_anchor = parent_anchor;\n        this.lens_container = lens_container;\n        this.ratio = ratio;\n        this.cursor_position = {\n          'top': 0,\n          'left': 0\n        };\n        this.calc_cursor_size();\n        this.insert_cursor(position.org_x, position.org_y);\n      },\n      destroy: function destroy() {\n        $('.' + opts.cursor_class).remove();\n      },\n      calc_cursor_size: function calc_cursor_size() {\n        this.cursor_height = this.lens_container.height() / this.ratio.x;\n        this.cursor_width = this.lens_container.width() / this.ratio.y;\n        this.height_center = this.cursor_height / 2;\n        this.width_center = this.cursor_width / 2;\n      },\n      update_cursor_position: function update_cursor_position(x, y) {\n        var new_y = y - this.height_center;\n        var new_bottom_y = y + this.height_center;\n        var new_x = x - this.width_center;\n        var new_right_x = x + this.width_center;\n        var limits = big_image.limits;\n\n        if (parseFloat(limits.y_top) > parseFloat(new_y)) {\n          new_y = limits.y_top;\n        } else if (parseFloat(new_bottom_y) > parseFloat(limits.y_bottom)) {\n          new_y = limits.y_bottom - this.cursor_height;\n        }\n\n        if (parseFloat(limits.x_left) > parseFloat(new_x)) {\n          new_x = limits.x_left;\n        } else if (parseFloat(new_right_x) > parseFloat(limits.x_right)) {\n          new_x = limits.x_right - this.cursor_width;\n        }\n\n        this.cursor_position = {\n          'top': new_y,\n          'left': new_x,\n          'center_top': new_y + this.height_center,\n          'center_left': new_x + this.width_center\n        };\n\n        if (this.cursor !== undefined) {\n          this.cursor.css(this.cursor_position);\n        }\n      },\n      insert_cursor: function insert_cursor(x, y) {\n        this.cursor = $('<div>', {\n          'class': opts.cursor_class\n        });\n        this.cursor.css({\n          'height': this.cursor_height + 'px',\n          'width': this.cursor_width + 'px'\n        });\n        this.cursor.appendTo(this.parent_anchor);\n        return this.update_cursor_position(x, y);\n      }\n    };\n    var lens = {\n      init: function init(parent_anchor) {\n        this.parent_anchor = parent_anchor;\n        this.parent_div = parent_anchor.parent(opts.parent_class);\n        this.lens_image_url = parent_anchor.attr(opts.lens_image_attr);\n        this.lens_container = $('<div>', {\n          'class': opts.lens_class\n        });\n        this.lens_image = $('<img>');\n        big_image.init(parent_anchor.find(opts.big_image_class));\n\n        if (this.lens_image_url === undefined) {\n          debug('Cannot find lens image. URL: ' + this.lens_image_url);\n          debug(that);\n          debug(parent_anchor);\n          debug(lens_image_url);\n        }\n      },\n      update_lens_position: function update_lens_position(position) {\n        this.lens_image.css({\n          'top': position.top,\n          'left': position.left\n        });\n      },\n      calc_lens_position: function calc_lens_position(cursor_position) {\n        return {\n          left: (cursor_position.center_left * this.ratio.x - this.container.width) * -1,\n          top: (cursor_position.center_top * this.ratio.y - this.container.height) * -1\n        };\n      },\n      lens_event_bind: function lens_event_bind() {\n        var that = this;\n\n        var mouse_callback = function mouse_callback(mouse) {\n          var position = big_image.calc_view_position(mouse);\n          cursor.update_cursor_position(position.org_x, position.org_y);\n          that.update_lens_position(that.calc_lens_position(cursor.cursor_position, that.ratio, that.container));\n        };\n\n        this.parent_anchor.mousemove(mouse_callback);\n      },\n      lens_event_unbind: function lens_event_unbind() {\n        if (this.parent_anchor !== undefined) {\n          this.parent_anchor.unbind('mousemove');\n        }\n      },\n      destroy: function destroy() {\n        cursor.destroy();\n\n        if (this.lens_container !== undefined && this.lens_container.length > 0) {\n          $('.' + opts.lens_class).remove();\n          this.lens_event_unbind();\n        }\n      },\n      load: function load(e) {\n        var that = this;\n        this.lens_container.appendTo(this.parent_div);\n        var margin_top = this.lens_container.height() / 2 - 25,\n            loading_image = $('<img>', {\n          'src': opts.loading_image\n        }).css(\"margin-top\", margin_top);\n        this.lens_container.html(loading_image);\n        this.lens_image.load(function () {\n          that.lens_container.html(that.lens_image);\n          that.container = {\n            width: that.lens_container.width() / 2,\n            height: that.lens_container.height() / 2\n          };\n          that.img_size = {\n            width: that.lens_image.width(),\n            height: that.lens_image.height()\n          };\n          that.ratio = {\n            y: that.lens_image.height() / big_image.height,\n            x: that.lens_image.width() / big_image.width\n          };\n          var position = big_image.calc_view_position(e);\n          cursor.init(that.parent_anchor, that.lens_container, that.ratio, position);\n          that.update_lens_position(that.calc_lens_position(cursor.cursor_position));\n          that.lens_event_bind();\n        }).attr('src', this.lens_image_url);\n      }\n    };\n\n    var init = function init(e) {\n      var parent_anchor = $(this);\n      lens.init(parent_anchor);\n      lens.load(e);\n    };\n\n    var destroy = function destroy() {\n      lens.destroy();\n    };\n\n    $(this).parents(opts.parent_class).on(opts.open_lens_event, opts.anchor_parent_class, init);\n    $(this).parents(opts.parent_class).on('mouseleave', opts.anchor_parent_class, destroy);\n  };\n\n  $.fn.simpleLens.ver = function () {\n    return ver;\n  };\n\n  $.fn.simpleLens.defaults = {\n    anchor_parent_class: '.simpleLens-lens-image',\n    lens_image_attr: 'data-lens-image',\n    big_image_class: '.simpleLens-big-image',\n    parent_class: '.simpleLens-big-image-container',\n    lens_class: 'simpleLens-lens-element',\n    cursor_class: 'simpleLens-mouse-cursor',\n    loading_image: '../img/view-slider/loading.gif',\n    open_lens_event: 'mouseenter'\n  };\n})(jQuery);","map":{"version":3,"sources":["/home/kashif/Documents/FinalYearProject/EshopperPk/src/frontEnd/frontEndStyleing/js/jquery.simpleLens.js"],"names":["$","ver","debug","message","window","console","log","fn","simpleLens","options","opts","extend","defaults","big_image","init","image","height","width","offset","position","calc_image_limits","limits","x_left","left","x_right","y_top","top","y_bottom","calc_view_position","e","org_x","pageX","org_y","pageY","cursor","parent_anchor","lens_container","ratio","cursor_position","calc_cursor_size","insert_cursor","destroy","cursor_class","remove","cursor_height","x","cursor_width","y","height_center","width_center","update_cursor_position","new_y","new_bottom_y","new_x","new_right_x","parseFloat","undefined","css","appendTo","lens","parent_div","parent","parent_class","lens_image_url","attr","lens_image_attr","lens_class","lens_image","find","big_image_class","that","update_lens_position","calc_lens_position","center_left","container","center_top","lens_event_bind","mouse_callback","mouse","mousemove","lens_event_unbind","unbind","length","load","margin_top","loading_image","html","img_size","parents","on","open_lens_event","anchor_parent_class","jQuery"],"mappings":"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","sourcesContent":["/*!\n * jQuery Lens Simple Plugin\n * Copyright (c) 2014 Pietro Simone Di Chiara\n * Version: 1.0.1 (05-APR-2013)\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/mit-license.php\n * Requires: jQuery v1.7.0 or later\n */\n(function ($) {\n    \"use strict\";\n\n    var ver = 'simpleLens-1.0.1';\n\n    function debug(message) {\n        if (window.console) {\n            console.log(message);\n        }\n    }\n\n    $.fn.simpleLens = function (options) {\n        var opts = $.extend({}, $.fn.simpleLens.defaults, options);\n\n        var big_image = {\n            init: function (image) {\n                this.height = image.height();\n                this.width = image.width();\n                this.offset = image.offset();\n                this.position = image.position();\n\n                this.calc_image_limits();\n            },\n            calc_image_limits: function(){\n                this.limits = {\n                    x_left : (this.position.left),\n                    x_right : (this.position.left + this.width),\n                    y_top : (this.position.top),\n                    y_bottom : (this.position.top + this.height)\n                }\n            },\n            calc_view_position: function (e) {\n                return {\n                    org_x: (e.pageX - this.offset.left),\n                    org_y: (e.pageY - this.offset.top)\n                }\n            }\n        };\n\n        var cursor = {\n            init: function(parent_anchor, lens_container, ratio, position){\n                this.parent_anchor = parent_anchor;\n                this.lens_container = lens_container;\n                this.ratio = ratio;\n\n                this.cursor_position = {\n                    'top': 0,\n                    'left': 0\n                };\n\n                this.calc_cursor_size();\n                this.insert_cursor(position.org_x, position.org_y);\n            },\n            destroy: function(){\n                $('.' + opts.cursor_class).remove();\n            },\n            calc_cursor_size: function () {\n                this.cursor_height = this.lens_container.height() / this.ratio.x;\n                this.cursor_width = this.lens_container.width() / this.ratio.y;\n                this.height_center = (this.cursor_height / 2);\n                this.width_center = (this.cursor_width / 2);\n            },\n            update_cursor_position: function (x, y) {\n                var new_y = (y - this.height_center);\n                var new_bottom_y = (y + this.height_center);\n                var new_x = (x - this.width_center);\n                var new_right_x = (x + this.width_center);\n\n                var limits = big_image.limits;\n                if (parseFloat(limits.y_top) > parseFloat(new_y)) {\n                    new_y = limits.y_top;\n                } else if (parseFloat(new_bottom_y) > parseFloat(limits.y_bottom)) {\n                    new_y = limits.y_bottom - this.cursor_height;\n                }\n\n                if (parseFloat(limits.x_left) > parseFloat(new_x)) {\n                    new_x = limits.x_left;\n                } else if (parseFloat(new_right_x) > parseFloat(limits.x_right)) {\n                    new_x = limits.x_right - this.cursor_width;\n                }\n\n                this.cursor_position = {\n                    'top': new_y,\n                    'left': new_x,\n                    'center_top': new_y + this.height_center,\n                    'center_left': new_x + this.width_center\n                };\n\n                if (this.cursor !== undefined) {\n                    this.cursor.css(this.cursor_position);\n                }\n            },\n            insert_cursor: function (x, y) {\n                this.cursor = $('<div>', {'class': opts.cursor_class});\n                this.cursor.css({\n                    'height': this.cursor_height + 'px',\n                    'width': this.cursor_width + 'px'\n                });\n\n                this.cursor.appendTo(this.parent_anchor);\n                return this.update_cursor_position(x, y);\n            }\n        };\n\n        var lens = {\n            init: function(parent_anchor){\n                this.parent_anchor = parent_anchor;\n                this.parent_div = parent_anchor.parent(opts.parent_class);\n                this.lens_image_url = parent_anchor.attr(opts.lens_image_attr);\n                this.lens_container = $('<div>', {'class': opts.lens_class});\n                this.lens_image = $('<img>');\n                big_image.init(parent_anchor.find(opts.big_image_class));\n\n                if (this.lens_image_url === undefined) {\n                    debug('Cannot find lens image. URL: ' + this.lens_image_url);\n                    debug(that);\n                    debug(parent_anchor);\n                    debug(lens_image_url);\n                }\n            },\n            update_lens_position: function (position) {\n                this.lens_image.css({\n                    'top': position.top,\n                    'left': position.left\n                });\n            },\n            calc_lens_position: function(cursor_position){\n                return {\n                    left: (cursor_position.center_left * this.ratio.x - this.container.width) * -1,\n                    top: (cursor_position.center_top * this.ratio.y - this.container.height) * -1\n                }\n            },\n            lens_event_bind: function () {\n                var that = this;\n                var mouse_callback = function (mouse) {\n                    var position = big_image.calc_view_position(mouse);\n                    cursor.update_cursor_position(position.org_x, position.org_y);\n                    that.update_lens_position(that.calc_lens_position(cursor.cursor_position, that.ratio, that.container));\n                };\n\n                this.parent_anchor.mousemove(mouse_callback);\n            },\n            lens_event_unbind: function(){\n                if(this.parent_anchor !== undefined){\n                    this.parent_anchor.unbind('mousemove');\n                }\n            },\n            destroy: function(){\n                cursor.destroy();\n\n                if(this.lens_container !== undefined && this.lens_container.length > 0){\n                    $('.' + opts.lens_class).remove();\n                    this.lens_event_unbind();\n                }\n            },\n            load: function(e){\n                var that = this;\n\n                this.lens_container.appendTo(this.parent_div);\n\n                var margin_top = (this.lens_container.height() / 2) - 25,\n                    loading_image = $('<img>', {'src': opts.loading_image})\n                        .css(\"margin-top\", margin_top);\n                this.lens_container.html(loading_image);\n\n                this.lens_image.load(function () {\n                    that.lens_container.html(that.lens_image);\n\n                    that.container = {\n                        width: that.lens_container.width() / 2,\n                        height: that.lens_container.height() / 2\n                    };\n\n                    that.img_size = {\n                        width: that.lens_image.width(),\n                        height: that.lens_image.height()\n                    };\n\n                    that.ratio = {\n                        y: that.lens_image.height() / big_image.height,\n                        x: that.lens_image.width() / big_image.width\n                    };\n\n                    var position = big_image.calc_view_position(e);\n                    cursor.init(that.parent_anchor, that.lens_container, that.ratio, position);\n                    that.update_lens_position(that.calc_lens_position(cursor.cursor_position));\n\n                    that.lens_event_bind();\n                }).attr('src', this.lens_image_url);\n            }\n        };\n\n        var init = function (e) {\n            var parent_anchor =  $(this);\n\n            lens.init(parent_anchor);\n            lens.load(e);\n        };\n\n        var destroy = function () {\n            lens.destroy();\n        };\n\n        $(this).parents(opts.parent_class).on(opts.open_lens_event, opts.anchor_parent_class, init);\n        $(this).parents(opts.parent_class).on('mouseleave', opts.anchor_parent_class, destroy);\n\n    };\n\n    $.fn.simpleLens.ver = function () { return ver; };\n\n    $.fn.simpleLens.defaults = {\n        anchor_parent_class: '.simpleLens-lens-image',\n        lens_image_attr: 'data-lens-image',\n        big_image_class: '.simpleLens-big-image',\n        parent_class: '.simpleLens-big-image-container',\n        lens_class: 'simpleLens-lens-element',\n        cursor_class: 'simpleLens-mouse-cursor',\n        loading_image: '../img/view-slider/loading.gif',\n        open_lens_event: 'mouseenter'\n    };\n\n})( jQuery );"]},"metadata":{},"sourceType":"module"}