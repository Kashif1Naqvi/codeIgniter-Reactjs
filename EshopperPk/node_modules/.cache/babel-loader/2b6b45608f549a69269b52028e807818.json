{"ast":null,"code":"/*!\n * SmartMenus jQuery Plugin - v1.0.0 - January 27, 2016\n * http://www.smartmenus.org/\n *\n * Copyright Vasil Dinkov, Vadikom Web Ltd.\n * http://vadikom.com\n *\n * Licensed MIT\n */\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD\n    define(['jquery'], factory);\n  } else if (typeof module === 'object' && typeof module.exports === 'object') {\n    // CommonJS\n    module.exports = factory(require('jquery'));\n  } else {\n    // Global jQuery\n    factory(jQuery);\n  }\n})(function ($) {\n  var menuTrees = [],\n      IE = !!window.createPopup,\n      // detect it for the iframe shim\n  mouse = false,\n      // optimize for touch by default - we will detect for mouse input\n  touchEvents = 'ontouchstart' in window,\n      // we use this just to choose between toucn and pointer events, not for touch screen detection\n  mouseDetectionEnabled = false,\n      requestAnimationFrame = window.requestAnimationFrame || function (callback) {\n    return setTimeout(callback, 1000 / 60);\n  },\n      cancelAnimationFrame = window.cancelAnimationFrame || function (id) {\n    clearTimeout(id);\n  }; // Handle detection for mouse input (i.e. desktop browsers, tablets with a mouse, etc.)\n\n\n  function initMouseDetection(disable) {\n    var eNS = '.smartmenus_mouse';\n\n    if (!mouseDetectionEnabled && !disable) {\n      // if we get two consecutive mousemoves within 2 pixels from each other and within 300ms, we assume a real mouse/cursor is present\n      // in practice, this seems like impossible to trick unintentianally with a real mouse and a pretty safe detection on touch devices (even with older browsers that do not support touch events)\n      var firstTime = true,\n          lastMove = null;\n      $(document).bind(getEventsNS([['mousemove', function (e) {\n        var thisMove = {\n          x: e.pageX,\n          y: e.pageY,\n          timeStamp: new Date().getTime()\n        };\n\n        if (lastMove) {\n          var deltaX = Math.abs(lastMove.x - thisMove.x),\n              deltaY = Math.abs(lastMove.y - thisMove.y);\n\n          if ((deltaX > 0 || deltaY > 0) && deltaX <= 2 && deltaY <= 2 && thisMove.timeStamp - lastMove.timeStamp <= 300) {\n            mouse = true; // if this is the first check after page load, check if we are not over some item by chance and call the mouseenter handler if yes\n\n            if (firstTime) {\n              var $a = $(e.target).closest('a');\n\n              if ($a.is('a')) {\n                $.each(menuTrees, function () {\n                  if ($.contains(this.$root[0], $a[0])) {\n                    this.itemEnter({\n                      currentTarget: $a[0]\n                    });\n                    return false;\n                  }\n                });\n              }\n\n              firstTime = false;\n            }\n          }\n        }\n\n        lastMove = thisMove;\n      }], [touchEvents ? 'touchstart' : 'pointerover pointermove pointerout MSPointerOver MSPointerMove MSPointerOut', function (e) {\n        if (isTouchEvent(e.originalEvent)) {\n          mouse = false;\n        }\n      }]], eNS));\n      mouseDetectionEnabled = true;\n    } else if (mouseDetectionEnabled && disable) {\n      $(document).unbind(eNS);\n      mouseDetectionEnabled = false;\n    }\n  }\n\n  function isTouchEvent(e) {\n    return !/^(4|mouse)$/.test(e.pointerType);\n  } // returns a jQuery bind() ready object\n\n\n  function getEventsNS(defArr, eNS) {\n    if (!eNS) {\n      eNS = '';\n    }\n\n    var obj = {};\n    $.each(defArr, function (index, value) {\n      obj[value[0].split(' ').join(eNS + ' ') + eNS] = value[1];\n    });\n    return obj;\n  }\n\n  $.SmartMenus = function (elm, options) {\n    this.$root = $(elm);\n    this.opts = options;\n    this.rootId = ''; // internal\n\n    this.accessIdPrefix = '';\n    this.$subArrow = null;\n    this.activatedItems = []; // stores last activated A's for each level\n\n    this.visibleSubMenus = []; // stores visible sub menus UL's (might be in no particular order)\n\n    this.showTimeout = 0;\n    this.hideTimeout = 0;\n    this.scrollTimeout = 0;\n    this.clickActivated = false;\n    this.focusActivated = false;\n    this.zIndexInc = 0;\n    this.idInc = 0;\n    this.$firstLink = null; // we'll use these for some tests\n\n    this.$firstSub = null; // at runtime so we'll cache them\n\n    this.disabled = false;\n    this.$disableOverlay = null;\n    this.$touchScrollingSub = null;\n    this.cssTransforms3d = 'perspective' in elm.style || 'webkitPerspective' in elm.style;\n    this.wasCollapsible = false;\n    this.init();\n  };\n\n  $.extend($.SmartMenus, {\n    hideAll: function hideAll() {\n      $.each(menuTrees, function () {\n        this.menuHideAll();\n      });\n    },\n    destroy: function destroy() {\n      while (menuTrees.length) {\n        menuTrees[0].destroy();\n      }\n\n      initMouseDetection(true);\n    },\n    prototype: {\n      init: function init(refresh) {\n        var self = this;\n\n        if (!refresh) {\n          menuTrees.push(this);\n          this.rootId = (new Date().getTime() + Math.random() + '').replace(/\\D/g, '');\n          this.accessIdPrefix = 'sm-' + this.rootId + '-';\n\n          if (this.$root.hasClass('sm-rtl')) {\n            this.opts.rightToLeftSubMenus = true;\n          } // init root (main menu)\n\n\n          var eNS = '.smartmenus';\n          this.$root.data('smartmenus', this).attr('data-smartmenus-id', this.rootId).dataSM('level', 1).bind(getEventsNS([['mouseover focusin', $.proxy(this.rootOver, this)], ['mouseout focusout', $.proxy(this.rootOut, this)], ['keydown', $.proxy(this.rootKeyDown, this)]], eNS)).delegate('a', getEventsNS([['mouseenter', $.proxy(this.itemEnter, this)], ['mouseleave', $.proxy(this.itemLeave, this)], ['mousedown', $.proxy(this.itemDown, this)], ['focus', $.proxy(this.itemFocus, this)], ['blur', $.proxy(this.itemBlur, this)], ['click', $.proxy(this.itemClick, this)]], eNS)); // hide menus on tap or click outside the root UL\n\n          eNS += this.rootId;\n\n          if (this.opts.hideOnClick) {\n            $(document).bind(getEventsNS([['touchstart', $.proxy(this.docTouchStart, this)], ['touchmove', $.proxy(this.docTouchMove, this)], ['touchend', $.proxy(this.docTouchEnd, this)], // for Opera Mobile < 11.5, webOS browser, etc. we'll check click too\n            ['click', $.proxy(this.docClick, this)]], eNS));\n          } // hide sub menus on resize\n\n\n          $(window).bind(getEventsNS([['resize orientationchange', $.proxy(this.winResize, this)]], eNS));\n\n          if (this.opts.subIndicators) {\n            this.$subArrow = $('<span/>').addClass('sub-arrow');\n\n            if (this.opts.subIndicatorsText) {\n              this.$subArrow.html(this.opts.subIndicatorsText);\n            }\n          } // make sure mouse detection is enabled\n\n\n          initMouseDetection();\n        } // init sub menus\n\n\n        this.$firstSub = this.$root.find('ul').each(function () {\n          self.menuInit($(this));\n        }).eq(0);\n        this.$firstLink = this.$root.find('a').eq(0); // find current item\n\n        if (this.opts.markCurrentItem) {\n          var reDefaultDoc = /(index|default)\\.[^#\\?\\/]*/i,\n              reHash = /#.*/,\n              locHref = window.location.href.replace(reDefaultDoc, ''),\n              locHrefNoHash = locHref.replace(reHash, '');\n          this.$root.find('a').each(function () {\n            var href = this.href.replace(reDefaultDoc, ''),\n                $this = $(this);\n\n            if (href == locHref || href == locHrefNoHash) {\n              $this.addClass('current');\n\n              if (self.opts.markCurrentTree) {\n                $this.parentsUntil('[data-smartmenus-id]', 'ul').each(function () {\n                  $(this).dataSM('parent-a').addClass('current');\n                });\n              }\n            }\n          });\n        } // save initial state\n\n\n        this.wasCollapsible = this.isCollapsible();\n      },\n      destroy: function destroy(refresh) {\n        if (!refresh) {\n          var eNS = '.smartmenus';\n          this.$root.removeData('smartmenus').removeAttr('data-smartmenus-id').removeDataSM('level').unbind(eNS).undelegate(eNS);\n          eNS += this.rootId;\n          $(document).unbind(eNS);\n          $(window).unbind(eNS);\n\n          if (this.opts.subIndicators) {\n            this.$subArrow = null;\n          }\n        }\n\n        this.menuHideAll();\n        var self = this;\n        this.$root.find('ul').each(function () {\n          var $this = $(this);\n\n          if ($this.dataSM('scroll-arrows')) {\n            $this.dataSM('scroll-arrows').remove();\n          }\n\n          if ($this.dataSM('shown-before')) {\n            if (self.opts.subMenusMinWidth || self.opts.subMenusMaxWidth) {\n              $this.css({\n                width: '',\n                minWidth: '',\n                maxWidth: ''\n              }).removeClass('sm-nowrap');\n            }\n\n            if ($this.dataSM('scroll-arrows')) {\n              $this.dataSM('scroll-arrows').remove();\n            }\n\n            $this.css({\n              zIndex: '',\n              top: '',\n              left: '',\n              marginLeft: '',\n              marginTop: '',\n              display: ''\n            });\n          }\n\n          if (($this.attr('id') || '').indexOf(self.accessIdPrefix) == 0) {\n            $this.removeAttr('id');\n          }\n        }).removeDataSM('in-mega').removeDataSM('shown-before').removeDataSM('ie-shim').removeDataSM('scroll-arrows').removeDataSM('parent-a').removeDataSM('level').removeDataSM('beforefirstshowfired').removeAttr('role').removeAttr('aria-hidden').removeAttr('aria-labelledby').removeAttr('aria-expanded');\n        this.$root.find('a.has-submenu').each(function () {\n          var $this = $(this);\n\n          if ($this.attr('id').indexOf(self.accessIdPrefix) == 0) {\n            $this.removeAttr('id');\n          }\n        }).removeClass('has-submenu').removeDataSM('sub').removeAttr('aria-haspopup').removeAttr('aria-controls').removeAttr('aria-expanded').closest('li').removeDataSM('sub');\n\n        if (this.opts.subIndicators) {\n          this.$root.find('span.sub-arrow').remove();\n        }\n\n        if (this.opts.markCurrentItem) {\n          this.$root.find('a.current').removeClass('current');\n        }\n\n        if (!refresh) {\n          this.$root = null;\n          this.$firstLink = null;\n          this.$firstSub = null;\n\n          if (this.$disableOverlay) {\n            this.$disableOverlay.remove();\n            this.$disableOverlay = null;\n          }\n\n          menuTrees.splice($.inArray(this, menuTrees), 1);\n        }\n      },\n      disable: function disable(noOverlay) {\n        if (!this.disabled) {\n          this.menuHideAll(); // display overlay over the menu to prevent interaction\n\n          if (!noOverlay && !this.opts.isPopup && this.$root.is(':visible')) {\n            var pos = this.$root.offset();\n            this.$disableOverlay = $('<div class=\"sm-jquery-disable-overlay\"/>').css({\n              position: 'absolute',\n              top: pos.top,\n              left: pos.left,\n              width: this.$root.outerWidth(),\n              height: this.$root.outerHeight(),\n              zIndex: this.getStartZIndex(true),\n              opacity: 0\n            }).appendTo(document.body);\n          }\n\n          this.disabled = true;\n        }\n      },\n      docClick: function docClick(e) {\n        if (this.$touchScrollingSub) {\n          this.$touchScrollingSub = null;\n          return;\n        } // hide on any click outside the menu or on a menu link\n\n\n        if (this.visibleSubMenus.length && !$.contains(this.$root[0], e.target) || $(e.target).is('a')) {\n          this.menuHideAll();\n        }\n      },\n      docTouchEnd: function docTouchEnd(e) {\n        if (!this.lastTouch) {\n          return;\n        }\n\n        if (this.visibleSubMenus.length && (this.lastTouch.x2 === undefined || this.lastTouch.x1 == this.lastTouch.x2) && (this.lastTouch.y2 === undefined || this.lastTouch.y1 == this.lastTouch.y2) && (!this.lastTouch.target || !$.contains(this.$root[0], this.lastTouch.target))) {\n          if (this.hideTimeout) {\n            clearTimeout(this.hideTimeout);\n            this.hideTimeout = 0;\n          } // hide with a delay to prevent triggering accidental unwanted click on some page element\n\n\n          var self = this;\n          this.hideTimeout = setTimeout(function () {\n            self.menuHideAll();\n          }, 350);\n        }\n\n        this.lastTouch = null;\n      },\n      docTouchMove: function docTouchMove(e) {\n        if (!this.lastTouch) {\n          return;\n        }\n\n        var touchPoint = e.originalEvent.touches[0];\n        this.lastTouch.x2 = touchPoint.pageX;\n        this.lastTouch.y2 = touchPoint.pageY;\n      },\n      docTouchStart: function docTouchStart(e) {\n        var touchPoint = e.originalEvent.touches[0];\n        this.lastTouch = {\n          x1: touchPoint.pageX,\n          y1: touchPoint.pageY,\n          target: touchPoint.target\n        };\n      },\n      enable: function enable() {\n        if (this.disabled) {\n          if (this.$disableOverlay) {\n            this.$disableOverlay.remove();\n            this.$disableOverlay = null;\n          }\n\n          this.disabled = false;\n        }\n      },\n      getClosestMenu: function getClosestMenu(elm) {\n        var $closestMenu = $(elm).closest('ul');\n\n        while ($closestMenu.dataSM('in-mega')) {\n          $closestMenu = $closestMenu.parent().closest('ul');\n        }\n\n        return $closestMenu[0] || null;\n      },\n      getHeight: function getHeight($elm) {\n        return this.getOffset($elm, true);\n      },\n      // returns precise width/height float values\n      getOffset: function getOffset($elm, height) {\n        var old;\n\n        if ($elm.css('display') == 'none') {\n          old = {\n            position: $elm[0].style.position,\n            visibility: $elm[0].style.visibility\n          };\n          $elm.css({\n            position: 'absolute',\n            visibility: 'hidden'\n          }).show();\n        }\n\n        var box = $elm[0].getBoundingClientRect && $elm[0].getBoundingClientRect(),\n            val = box && (height ? box.height || box.bottom - box.top : box.width || box.right - box.left);\n\n        if (!val && val !== 0) {\n          val = height ? $elm[0].offsetHeight : $elm[0].offsetWidth;\n        }\n\n        if (old) {\n          $elm.hide().css(old);\n        }\n\n        return val;\n      },\n      getStartZIndex: function getStartZIndex(root) {\n        var zIndex = parseInt(this[root ? '$root' : '$firstSub'].css('z-index'));\n\n        if (!root && isNaN(zIndex)) {\n          zIndex = parseInt(this.$root.css('z-index'));\n        }\n\n        return !isNaN(zIndex) ? zIndex : 1;\n      },\n      getTouchPoint: function getTouchPoint(e) {\n        return e.touches && e.touches[0] || e.changedTouches && e.changedTouches[0] || e;\n      },\n      getViewport: function getViewport(height) {\n        var name = height ? 'Height' : 'Width',\n            val = document.documentElement['client' + name],\n            val2 = window['inner' + name];\n\n        if (val2) {\n          val = Math.min(val, val2);\n        }\n\n        return val;\n      },\n      getViewportHeight: function getViewportHeight() {\n        return this.getViewport(true);\n      },\n      getViewportWidth: function getViewportWidth() {\n        return this.getViewport();\n      },\n      getWidth: function getWidth($elm) {\n        return this.getOffset($elm);\n      },\n      handleEvents: function handleEvents() {\n        return !this.disabled && this.isCSSOn();\n      },\n      handleItemEvents: function handleItemEvents($a) {\n        return this.handleEvents() && !this.isLinkInMegaMenu($a);\n      },\n      isCollapsible: function isCollapsible() {\n        return this.$firstSub.css('position') == 'static';\n      },\n      isCSSOn: function isCSSOn() {\n        return this.$firstLink.css('display') == 'block';\n      },\n      isFixed: function isFixed() {\n        var isFixed = this.$root.css('position') == 'fixed';\n\n        if (!isFixed) {\n          this.$root.parentsUntil('body').each(function () {\n            if ($(this).css('position') == 'fixed') {\n              isFixed = true;\n              return false;\n            }\n          });\n        }\n\n        return isFixed;\n      },\n      isLinkInMegaMenu: function isLinkInMegaMenu($a) {\n        return $(this.getClosestMenu($a[0])).hasClass('mega-menu');\n      },\n      isTouchMode: function isTouchMode() {\n        return !mouse || this.opts.noMouseOver || this.isCollapsible();\n      },\n      itemActivate: function itemActivate($a, focus) {\n        var $ul = $a.closest('ul'),\n            level = $ul.dataSM('level'); // if for some reason the parent item is not activated (e.g. this is an API call to activate the item), activate all parent items first\n\n        if (level > 1 && (!this.activatedItems[level - 2] || this.activatedItems[level - 2][0] != $ul.dataSM('parent-a')[0])) {\n          var self = this;\n          $($ul.parentsUntil('[data-smartmenus-id]', 'ul').get().reverse()).add($ul).each(function () {\n            self.itemActivate($(this).dataSM('parent-a'));\n          });\n        } // hide any visible deeper level sub menus\n\n\n        if (!this.isCollapsible() || focus) {\n          this.menuHideSubMenus(!this.activatedItems[level - 1] || this.activatedItems[level - 1][0] != $a[0] ? level - 1 : level);\n        } // save new active item for this level\n\n\n        this.activatedItems[level - 1] = $a;\n\n        if (this.$root.triggerHandler('activate.smapi', $a[0]) === false) {\n          return;\n        } // show the sub menu if this item has one\n\n\n        var $sub = $a.dataSM('sub');\n\n        if ($sub && (this.isTouchMode() || !this.opts.showOnClick || this.clickActivated)) {\n          this.menuShow($sub);\n        }\n      },\n      itemBlur: function itemBlur(e) {\n        var $a = $(e.currentTarget);\n\n        if (!this.handleItemEvents($a)) {\n          return;\n        }\n\n        this.$root.triggerHandler('blur.smapi', $a[0]);\n      },\n      itemClick: function itemClick(e) {\n        var $a = $(e.currentTarget);\n\n        if (!this.handleItemEvents($a)) {\n          return;\n        }\n\n        if (this.$touchScrollingSub && this.$touchScrollingSub[0] == $a.closest('ul')[0]) {\n          this.$touchScrollingSub = null;\n          e.stopPropagation();\n          return false;\n        }\n\n        if (this.$root.triggerHandler('click.smapi', $a[0]) === false) {\n          return false;\n        }\n\n        var subArrowClicked = $(e.target).is('span.sub-arrow'),\n            $sub = $a.dataSM('sub'),\n            firstLevelSub = $sub ? $sub.dataSM('level') == 2 : false; // if the sub is not visible\n\n        if ($sub && !$sub.is(':visible')) {\n          if (this.opts.showOnClick && firstLevelSub) {\n            this.clickActivated = true;\n          } // try to activate the item and show the sub\n\n\n          this.itemActivate($a); // if \"itemActivate\" showed the sub, prevent the click so that the link is not loaded\n          // if it couldn't show it, then the sub menus are disabled with an !important declaration (e.g. via mobile styles) so let the link get loaded\n\n          if ($sub.is(':visible')) {\n            this.focusActivated = true;\n            return false;\n          }\n        } else if (this.isCollapsible() && subArrowClicked) {\n          this.itemActivate($a);\n          this.menuHide($sub);\n          return false;\n        }\n\n        if (this.opts.showOnClick && firstLevelSub || $a.hasClass('disabled') || this.$root.triggerHandler('select.smapi', $a[0]) === false) {\n          return false;\n        }\n      },\n      itemDown: function itemDown(e) {\n        var $a = $(e.currentTarget);\n\n        if (!this.handleItemEvents($a)) {\n          return;\n        }\n\n        $a.dataSM('mousedown', true);\n      },\n      itemEnter: function itemEnter(e) {\n        var $a = $(e.currentTarget);\n\n        if (!this.handleItemEvents($a)) {\n          return;\n        }\n\n        if (!this.isTouchMode()) {\n          if (this.showTimeout) {\n            clearTimeout(this.showTimeout);\n            this.showTimeout = 0;\n          }\n\n          var self = this;\n          this.showTimeout = setTimeout(function () {\n            self.itemActivate($a);\n          }, this.opts.showOnClick && $a.closest('ul').dataSM('level') == 1 ? 1 : this.opts.showTimeout);\n        }\n\n        this.$root.triggerHandler('mouseenter.smapi', $a[0]);\n      },\n      itemFocus: function itemFocus(e) {\n        var $a = $(e.currentTarget);\n\n        if (!this.handleItemEvents($a)) {\n          return;\n        } // fix (the mousedown check): in some browsers a tap/click produces consecutive focus + click events so we don't need to activate the item on focus\n\n\n        if (this.focusActivated && (!this.isTouchMode() || !$a.dataSM('mousedown')) && (!this.activatedItems.length || this.activatedItems[this.activatedItems.length - 1][0] != $a[0])) {\n          this.itemActivate($a, true);\n        }\n\n        this.$root.triggerHandler('focus.smapi', $a[0]);\n      },\n      itemLeave: function itemLeave(e) {\n        var $a = $(e.currentTarget);\n\n        if (!this.handleItemEvents($a)) {\n          return;\n        }\n\n        if (!this.isTouchMode()) {\n          $a[0].blur();\n\n          if (this.showTimeout) {\n            clearTimeout(this.showTimeout);\n            this.showTimeout = 0;\n          }\n        }\n\n        $a.removeDataSM('mousedown');\n        this.$root.triggerHandler('mouseleave.smapi', $a[0]);\n      },\n      menuHide: function menuHide($sub) {\n        if (this.$root.triggerHandler('beforehide.smapi', $sub[0]) === false) {\n          return;\n        }\n\n        $sub.stop(true, true);\n\n        if ($sub.css('display') != 'none') {\n          var complete = function complete() {\n            // unset z-index\n            $sub.css('z-index', '');\n          }; // if sub is collapsible (mobile view)\n\n\n          if (this.isCollapsible()) {\n            if (this.opts.collapsibleHideFunction) {\n              this.opts.collapsibleHideFunction.call(this, $sub, complete);\n            } else {\n              $sub.hide(this.opts.collapsibleHideDuration, complete);\n            }\n          } else {\n            if (this.opts.hideFunction) {\n              this.opts.hideFunction.call(this, $sub, complete);\n            } else {\n              $sub.hide(this.opts.hideDuration, complete);\n            }\n          } // remove IE iframe shim\n\n\n          if ($sub.dataSM('ie-shim')) {\n            $sub.dataSM('ie-shim').remove().css({\n              '-webkit-transform': '',\n              transform: ''\n            });\n          } // deactivate scrolling if it is activated for this sub\n\n\n          if ($sub.dataSM('scroll')) {\n            this.menuScrollStop($sub);\n            $sub.css({\n              'touch-action': '',\n              '-ms-touch-action': '',\n              '-webkit-transform': '',\n              transform: ''\n            }).unbind('.smartmenus_scroll').removeDataSM('scroll').dataSM('scroll-arrows').hide();\n          } // unhighlight parent item + accessibility\n\n\n          $sub.dataSM('parent-a').removeClass('highlighted').attr('aria-expanded', 'false');\n          $sub.attr({\n            'aria-expanded': 'false',\n            'aria-hidden': 'true'\n          });\n          var level = $sub.dataSM('level');\n          this.activatedItems.splice(level - 1, 1);\n          this.visibleSubMenus.splice($.inArray($sub, this.visibleSubMenus), 1);\n          this.$root.triggerHandler('hide.smapi', $sub[0]);\n        }\n      },\n      menuHideAll: function menuHideAll() {\n        if (this.showTimeout) {\n          clearTimeout(this.showTimeout);\n          this.showTimeout = 0;\n        } // hide all subs\n        // if it's a popup, this.visibleSubMenus[0] is the root UL\n\n\n        var level = this.opts.isPopup ? 1 : 0;\n\n        for (var i = this.visibleSubMenus.length - 1; i >= level; i--) {\n          this.menuHide(this.visibleSubMenus[i]);\n        } // hide root if it's popup\n\n\n        if (this.opts.isPopup) {\n          this.$root.stop(true, true);\n\n          if (this.$root.is(':visible')) {\n            if (this.opts.hideFunction) {\n              this.opts.hideFunction.call(this, this.$root);\n            } else {\n              this.$root.hide(this.opts.hideDuration);\n            } // remove IE iframe shim\n\n\n            if (this.$root.dataSM('ie-shim')) {\n              this.$root.dataSM('ie-shim').remove();\n            }\n          }\n        }\n\n        this.activatedItems = [];\n        this.visibleSubMenus = [];\n        this.clickActivated = false;\n        this.focusActivated = false; // reset z-index increment\n\n        this.zIndexInc = 0;\n        this.$root.triggerHandler('hideAll.smapi');\n      },\n      menuHideSubMenus: function menuHideSubMenus(level) {\n        for (var i = this.activatedItems.length - 1; i >= level; i--) {\n          var $sub = this.activatedItems[i].dataSM('sub');\n\n          if ($sub) {\n            this.menuHide($sub);\n          }\n        }\n      },\n      menuIframeShim: function menuIframeShim($ul) {\n        // create iframe shim for the menu\n        if (IE && this.opts.overlapControlsInIE && !$ul.dataSM('ie-shim')) {\n          $ul.dataSM('ie-shim', $('<iframe/>').attr({\n            src: 'javascript:0',\n            tabindex: -9\n          }).css({\n            position: 'absolute',\n            top: 'auto',\n            left: '0',\n            opacity: 0,\n            border: '0'\n          }));\n        }\n      },\n      menuInit: function menuInit($ul) {\n        if (!$ul.dataSM('in-mega')) {\n          // mark UL's in mega drop downs (if any) so we can neglect them\n          if ($ul.hasClass('mega-menu')) {\n            $ul.find('ul').dataSM('in-mega', true);\n          } // get level (much faster than, for example, using parentsUntil)\n\n\n          var level = 2,\n              par = $ul[0];\n\n          while ((par = par.parentNode.parentNode) != this.$root[0]) {\n            level++;\n          } // cache stuff for quick access\n\n\n          var $a = $ul.prevAll('a').eq(-1); // if the link is nested (e.g. in a heading)\n\n          if (!$a.length) {\n            $a = $ul.prevAll().find('a').eq(-1);\n          }\n\n          $a.addClass('has-submenu').dataSM('sub', $ul);\n          $ul.dataSM('parent-a', $a).dataSM('level', level).parent().dataSM('sub', $ul); // accessibility\n\n          var aId = $a.attr('id') || this.accessIdPrefix + ++this.idInc,\n              ulId = $ul.attr('id') || this.accessIdPrefix + ++this.idInc;\n          $a.attr({\n            id: aId,\n            'aria-haspopup': 'true',\n            'aria-controls': ulId,\n            'aria-expanded': 'false'\n          });\n          $ul.attr({\n            id: ulId,\n            'role': 'group',\n            'aria-hidden': 'true',\n            'aria-labelledby': aId,\n            'aria-expanded': 'false'\n          }); // add sub indicator to parent item\n\n          if (this.opts.subIndicators) {\n            $a[this.opts.subIndicatorsPos](this.$subArrow.clone());\n          }\n        }\n      },\n      menuPosition: function menuPosition($sub) {\n        var $a = $sub.dataSM('parent-a'),\n            $li = $a.closest('li'),\n            $ul = $li.parent(),\n            level = $sub.dataSM('level'),\n            subW = this.getWidth($sub),\n            subH = this.getHeight($sub),\n            itemOffset = $a.offset(),\n            itemX = itemOffset.left,\n            itemY = itemOffset.top,\n            itemW = this.getWidth($a),\n            itemH = this.getHeight($a),\n            $win = $(window),\n            winX = $win.scrollLeft(),\n            winY = $win.scrollTop(),\n            winW = this.getViewportWidth(),\n            winH = this.getViewportHeight(),\n            horizontalParent = $ul.parent().is('[data-sm-horizontal-sub]') || level == 2 && !$ul.hasClass('sm-vertical'),\n            rightToLeft = this.opts.rightToLeftSubMenus && !$li.is('[data-sm-reverse]') || !this.opts.rightToLeftSubMenus && $li.is('[data-sm-reverse]'),\n            subOffsetX = level == 2 ? this.opts.mainMenuSubOffsetX : this.opts.subMenusSubOffsetX,\n            subOffsetY = level == 2 ? this.opts.mainMenuSubOffsetY : this.opts.subMenusSubOffsetY,\n            x,\n            y;\n\n        if (horizontalParent) {\n          x = rightToLeft ? itemW - subW - subOffsetX : subOffsetX;\n          y = this.opts.bottomToTopSubMenus ? -subH - subOffsetY : itemH + subOffsetY;\n        } else {\n          x = rightToLeft ? subOffsetX - subW : itemW - subOffsetX;\n          y = this.opts.bottomToTopSubMenus ? itemH - subOffsetY - subH : subOffsetY;\n        }\n\n        if (this.opts.keepInViewport) {\n          var absX = itemX + x,\n              absY = itemY + y;\n\n          if (rightToLeft && absX < winX) {\n            x = horizontalParent ? winX - absX + x : itemW - subOffsetX;\n          } else if (!rightToLeft && absX + subW > winX + winW) {\n            x = horizontalParent ? winX + winW - subW - absX + x : subOffsetX - subW;\n          }\n\n          if (!horizontalParent) {\n            if (subH < winH && absY + subH > winY + winH) {\n              y += winY + winH - subH - absY;\n            } else if (subH >= winH || absY < winY) {\n              y += winY - absY;\n            }\n          } // do we need scrolling?\n          // 0.49 used for better precision when dealing with float values\n\n\n          if (horizontalParent && (absY + subH > winY + winH + 0.49 || absY < winY) || !horizontalParent && subH > winH + 0.49) {\n            var self = this;\n\n            if (!$sub.dataSM('scroll-arrows')) {\n              $sub.dataSM('scroll-arrows', $([$('<span class=\"scroll-up\"><span class=\"scroll-up-arrow\"></span></span>')[0], $('<span class=\"scroll-down\"><span class=\"scroll-down-arrow\"></span></span>')[0]]).bind({\n                mouseenter: function mouseenter() {\n                  $sub.dataSM('scroll').up = $(this).hasClass('scroll-up');\n                  self.menuScroll($sub);\n                },\n                mouseleave: function mouseleave(e) {\n                  self.menuScrollStop($sub);\n                  self.menuScrollOut($sub, e);\n                },\n                'mousewheel DOMMouseScroll': function mousewheelDOMMouseScroll(e) {\n                  e.preventDefault();\n                }\n              }).insertAfter($sub));\n            } // bind scroll events and save scroll data for this sub\n\n\n            var eNS = '.smartmenus_scroll';\n            $sub.dataSM('scroll', {\n              y: this.cssTransforms3d ? 0 : y - itemH,\n              step: 1,\n              // cache stuff for faster recalcs later\n              itemH: itemH,\n              subH: subH,\n              arrowDownH: this.getHeight($sub.dataSM('scroll-arrows').eq(1))\n            }).bind(getEventsNS([['mouseover', function (e) {\n              self.menuScrollOver($sub, e);\n            }], ['mouseout', function (e) {\n              self.menuScrollOut($sub, e);\n            }], ['mousewheel DOMMouseScroll', function (e) {\n              self.menuScrollMousewheel($sub, e);\n            }]], eNS)).dataSM('scroll-arrows').css({\n              top: 'auto',\n              left: '0',\n              marginLeft: x + (parseInt($sub.css('border-left-width')) || 0),\n              width: subW - (parseInt($sub.css('border-left-width')) || 0) - (parseInt($sub.css('border-right-width')) || 0),\n              zIndex: $sub.css('z-index')\n            }).eq(horizontalParent && this.opts.bottomToTopSubMenus ? 0 : 1).show(); // when a menu tree is fixed positioned we allow scrolling via touch too\n            // since there is no other way to access such long sub menus if no mouse is present\n\n            if (this.isFixed()) {\n              $sub.css({\n                'touch-action': 'none',\n                '-ms-touch-action': 'none'\n              }).bind(getEventsNS([[touchEvents ? 'touchstart touchmove touchend' : 'pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp', function (e) {\n                self.menuScrollTouch($sub, e);\n              }]], eNS));\n            }\n          }\n        }\n\n        $sub.css({\n          top: 'auto',\n          left: '0',\n          marginLeft: x,\n          marginTop: y - itemH\n        }); // IE iframe shim\n\n        this.menuIframeShim($sub);\n\n        if ($sub.dataSM('ie-shim')) {\n          $sub.dataSM('ie-shim').css({\n            zIndex: $sub.css('z-index'),\n            width: subW,\n            height: subH,\n            marginLeft: x,\n            marginTop: y - itemH\n          });\n        }\n      },\n      menuScroll: function menuScroll($sub, once, step) {\n        var data = $sub.dataSM('scroll'),\n            $arrows = $sub.dataSM('scroll-arrows'),\n            end = data.up ? data.upEnd : data.downEnd,\n            diff;\n\n        if (!once && data.momentum) {\n          data.momentum *= 0.92;\n          diff = data.momentum;\n\n          if (diff < 0.5) {\n            this.menuScrollStop($sub);\n            return;\n          }\n        } else {\n          diff = step || (once || !this.opts.scrollAccelerate ? this.opts.scrollStep : Math.floor(data.step));\n        } // hide any visible deeper level sub menus\n\n\n        var level = $sub.dataSM('level');\n\n        if (this.activatedItems[level - 1] && this.activatedItems[level - 1].dataSM('sub') && this.activatedItems[level - 1].dataSM('sub').is(':visible')) {\n          this.menuHideSubMenus(level - 1);\n        }\n\n        data.y = data.up && end <= data.y || !data.up && end >= data.y ? data.y : Math.abs(end - data.y) > diff ? data.y + (data.up ? diff : -diff) : end;\n        $sub.add($sub.dataSM('ie-shim')).css(this.cssTransforms3d ? {\n          '-webkit-transform': 'translate3d(0, ' + data.y + 'px, 0)',\n          transform: 'translate3d(0, ' + data.y + 'px, 0)'\n        } : {\n          marginTop: data.y\n        }); // show opposite arrow if appropriate\n\n        if (mouse && (data.up && data.y > data.downEnd || !data.up && data.y < data.upEnd)) {\n          $arrows.eq(data.up ? 1 : 0).show();\n        } // if we've reached the end\n\n\n        if (data.y == end) {\n          if (mouse) {\n            $arrows.eq(data.up ? 0 : 1).hide();\n          }\n\n          this.menuScrollStop($sub);\n        } else if (!once) {\n          if (this.opts.scrollAccelerate && data.step < this.opts.scrollStep) {\n            data.step += 0.2;\n          }\n\n          var self = this;\n          this.scrollTimeout = requestAnimationFrame(function () {\n            self.menuScroll($sub);\n          });\n        }\n      },\n      menuScrollMousewheel: function menuScrollMousewheel($sub, e) {\n        if (this.getClosestMenu(e.target) == $sub[0]) {\n          e = e.originalEvent;\n          var up = (e.wheelDelta || -e.detail) > 0;\n\n          if ($sub.dataSM('scroll-arrows').eq(up ? 0 : 1).is(':visible')) {\n            $sub.dataSM('scroll').up = up;\n            this.menuScroll($sub, true);\n          }\n        }\n\n        e.preventDefault();\n      },\n      menuScrollOut: function menuScrollOut($sub, e) {\n        if (mouse) {\n          if (!/^scroll-(up|down)/.test((e.relatedTarget || '').className) && ($sub[0] != e.relatedTarget && !$.contains($sub[0], e.relatedTarget) || this.getClosestMenu(e.relatedTarget) != $sub[0])) {\n            $sub.dataSM('scroll-arrows').css('visibility', 'hidden');\n          }\n        }\n      },\n      menuScrollOver: function menuScrollOver($sub, e) {\n        if (mouse) {\n          if (!/^scroll-(up|down)/.test(e.target.className) && this.getClosestMenu(e.target) == $sub[0]) {\n            this.menuScrollRefreshData($sub);\n            var data = $sub.dataSM('scroll'),\n                upEnd = $(window).scrollTop() - $sub.dataSM('parent-a').offset().top - data.itemH;\n            $sub.dataSM('scroll-arrows').eq(0).css('margin-top', upEnd).end().eq(1).css('margin-top', upEnd + this.getViewportHeight() - data.arrowDownH).end().css('visibility', 'visible');\n          }\n        }\n      },\n      menuScrollRefreshData: function menuScrollRefreshData($sub) {\n        var data = $sub.dataSM('scroll'),\n            upEnd = $(window).scrollTop() - $sub.dataSM('parent-a').offset().top - data.itemH;\n\n        if (this.cssTransforms3d) {\n          upEnd = -(parseFloat($sub.css('margin-top')) - upEnd);\n        }\n\n        $.extend(data, {\n          upEnd: upEnd,\n          downEnd: upEnd + this.getViewportHeight() - data.subH\n        });\n      },\n      menuScrollStop: function menuScrollStop($sub) {\n        if (this.scrollTimeout) {\n          cancelAnimationFrame(this.scrollTimeout);\n          this.scrollTimeout = 0;\n          $sub.dataSM('scroll').step = 1;\n          return true;\n        }\n      },\n      menuScrollTouch: function menuScrollTouch($sub, e) {\n        e = e.originalEvent;\n\n        if (isTouchEvent(e)) {\n          var touchPoint = this.getTouchPoint(e); // neglect event if we touched a visible deeper level sub menu\n\n          if (this.getClosestMenu(touchPoint.target) == $sub[0]) {\n            var data = $sub.dataSM('scroll');\n\n            if (/(start|down)$/i.test(e.type)) {\n              if (this.menuScrollStop($sub)) {\n                // if we were scrolling, just stop and don't activate any link on the first touch\n                e.preventDefault();\n                this.$touchScrollingSub = $sub;\n              } else {\n                this.$touchScrollingSub = null;\n              } // update scroll data since the user might have zoomed, etc.\n\n\n              this.menuScrollRefreshData($sub); // extend it with the touch properties\n\n              $.extend(data, {\n                touchStartY: touchPoint.pageY,\n                touchStartTime: e.timeStamp\n              });\n            } else if (/move$/i.test(e.type)) {\n              var prevY = data.touchY !== undefined ? data.touchY : data.touchStartY;\n\n              if (prevY !== undefined && prevY != touchPoint.pageY) {\n                this.$touchScrollingSub = $sub;\n                var up = prevY < touchPoint.pageY; // changed direction? reset...\n\n                if (data.up !== undefined && data.up != up) {\n                  $.extend(data, {\n                    touchStartY: touchPoint.pageY,\n                    touchStartTime: e.timeStamp\n                  });\n                }\n\n                $.extend(data, {\n                  up: up,\n                  touchY: touchPoint.pageY\n                });\n                this.menuScroll($sub, true, Math.abs(touchPoint.pageY - prevY));\n              }\n\n              e.preventDefault();\n            } else {\n              // touchend/pointerup\n              if (data.touchY !== undefined) {\n                if (data.momentum = Math.pow(Math.abs(touchPoint.pageY - data.touchStartY) / (e.timeStamp - data.touchStartTime), 2) * 15) {\n                  this.menuScrollStop($sub);\n                  this.menuScroll($sub);\n                  e.preventDefault();\n                }\n\n                delete data.touchY;\n              }\n            }\n          }\n        }\n      },\n      menuShow: function menuShow($sub) {\n        if (!$sub.dataSM('beforefirstshowfired')) {\n          $sub.dataSM('beforefirstshowfired', true);\n\n          if (this.$root.triggerHandler('beforefirstshow.smapi', $sub[0]) === false) {\n            return;\n          }\n        }\n\n        if (this.$root.triggerHandler('beforeshow.smapi', $sub[0]) === false) {\n          return;\n        }\n\n        $sub.dataSM('shown-before', true).stop(true, true);\n\n        if (!$sub.is(':visible')) {\n          // highlight parent item\n          var $a = $sub.dataSM('parent-a');\n\n          if (this.opts.keepHighlighted || this.isCollapsible()) {\n            $a.addClass('highlighted');\n          }\n\n          if (this.isCollapsible()) {\n            $sub.removeClass('sm-nowrap').css({\n              zIndex: '',\n              width: 'auto',\n              minWidth: '',\n              maxWidth: '',\n              top: '',\n              left: '',\n              marginLeft: '',\n              marginTop: ''\n            });\n          } else {\n            // set z-index\n            $sub.css('z-index', this.zIndexInc = (this.zIndexInc || this.getStartZIndex()) + 1); // min/max-width fix - no way to rely purely on CSS as all UL's are nested\n\n            if (this.opts.subMenusMinWidth || this.opts.subMenusMaxWidth) {\n              $sub.css({\n                width: 'auto',\n                minWidth: '',\n                maxWidth: ''\n              }).addClass('sm-nowrap');\n\n              if (this.opts.subMenusMinWidth) {\n                $sub.css('min-width', this.opts.subMenusMinWidth);\n              }\n\n              if (this.opts.subMenusMaxWidth) {\n                var noMaxWidth = this.getWidth($sub);\n                $sub.css('max-width', this.opts.subMenusMaxWidth);\n\n                if (noMaxWidth > this.getWidth($sub)) {\n                  $sub.removeClass('sm-nowrap').css('width', this.opts.subMenusMaxWidth);\n                }\n              }\n            }\n\n            this.menuPosition($sub); // insert IE iframe shim\n\n            if ($sub.dataSM('ie-shim')) {\n              $sub.dataSM('ie-shim').insertBefore($sub);\n            }\n          }\n\n          var complete = function complete() {\n            // fix: \"overflow: hidden;\" is not reset on animation complete in jQuery < 1.9.0 in Chrome when global \"box-sizing: border-box;\" is used\n            $sub.css('overflow', '');\n          }; // if sub is collapsible (mobile view)\n\n\n          if (this.isCollapsible()) {\n            if (this.opts.collapsibleShowFunction) {\n              this.opts.collapsibleShowFunction.call(this, $sub, complete);\n            } else {\n              $sub.show(this.opts.collapsibleShowDuration, complete);\n            }\n          } else {\n            if (this.opts.showFunction) {\n              this.opts.showFunction.call(this, $sub, complete);\n            } else {\n              $sub.show(this.opts.showDuration, complete);\n            }\n          } // accessibility\n\n\n          $a.attr('aria-expanded', 'true');\n          $sub.attr({\n            'aria-expanded': 'true',\n            'aria-hidden': 'false'\n          }); // store sub menu in visible array\n\n          this.visibleSubMenus.push($sub);\n          this.$root.triggerHandler('show.smapi', $sub[0]);\n        }\n      },\n      popupHide: function popupHide(noHideTimeout) {\n        if (this.hideTimeout) {\n          clearTimeout(this.hideTimeout);\n          this.hideTimeout = 0;\n        }\n\n        var self = this;\n        this.hideTimeout = setTimeout(function () {\n          self.menuHideAll();\n        }, noHideTimeout ? 1 : this.opts.hideTimeout);\n      },\n      popupShow: function popupShow(left, top) {\n        if (!this.opts.isPopup) {\n          alert('SmartMenus jQuery Error:\\n\\nIf you want to show this menu via the \"popupShow\" method, set the isPopup:true option.');\n          return;\n        }\n\n        if (this.hideTimeout) {\n          clearTimeout(this.hideTimeout);\n          this.hideTimeout = 0;\n        }\n\n        this.$root.dataSM('shown-before', true).stop(true, true);\n\n        if (!this.$root.is(':visible')) {\n          this.$root.css({\n            left: left,\n            top: top\n          }); // IE iframe shim\n\n          this.menuIframeShim(this.$root);\n\n          if (this.$root.dataSM('ie-shim')) {\n            this.$root.dataSM('ie-shim').css({\n              zIndex: this.$root.css('z-index'),\n              width: this.getWidth(this.$root),\n              height: this.getHeight(this.$root),\n              left: left,\n              top: top\n            }).insertBefore(this.$root);\n          } // show menu\n\n\n          var self = this,\n              complete = function complete() {\n            self.$root.css('overflow', '');\n          };\n\n          if (this.opts.showFunction) {\n            this.opts.showFunction.call(this, this.$root, complete);\n          } else {\n            this.$root.show(this.opts.showDuration, complete);\n          }\n\n          this.visibleSubMenus[0] = this.$root;\n        }\n      },\n      refresh: function refresh() {\n        this.destroy(true);\n        this.init(true);\n      },\n      rootKeyDown: function rootKeyDown(e) {\n        if (!this.handleEvents()) {\n          return;\n        }\n\n        switch (e.keyCode) {\n          case 27:\n            // reset on Esc\n            var $activeTopItem = this.activatedItems[0];\n\n            if ($activeTopItem) {\n              this.menuHideAll();\n              $activeTopItem[0].focus();\n              var $sub = $activeTopItem.dataSM('sub');\n\n              if ($sub) {\n                this.menuHide($sub);\n              }\n            }\n\n            break;\n\n          case 32:\n            // activate item's sub on Space\n            var $target = $(e.target);\n\n            if ($target.is('a') && this.handleItemEvents($target)) {\n              var $sub = $target.dataSM('sub');\n\n              if ($sub && !$sub.is(':visible')) {\n                this.itemClick({\n                  currentTarget: e.target\n                });\n                e.preventDefault();\n              }\n            }\n\n            break;\n        }\n      },\n      rootOut: function rootOut(e) {\n        if (!this.handleEvents() || this.isTouchMode() || e.target == this.$root[0]) {\n          return;\n        }\n\n        if (this.hideTimeout) {\n          clearTimeout(this.hideTimeout);\n          this.hideTimeout = 0;\n        }\n\n        if (!this.opts.showOnClick || !this.opts.hideOnClick) {\n          var self = this;\n          this.hideTimeout = setTimeout(function () {\n            self.menuHideAll();\n          }, this.opts.hideTimeout);\n        }\n      },\n      rootOver: function rootOver(e) {\n        if (!this.handleEvents() || this.isTouchMode() || e.target == this.$root[0]) {\n          return;\n        }\n\n        if (this.hideTimeout) {\n          clearTimeout(this.hideTimeout);\n          this.hideTimeout = 0;\n        }\n      },\n      winResize: function winResize(e) {\n        if (!this.handleEvents()) {\n          // we still need to resize the disable overlay if it's visible\n          if (this.$disableOverlay) {\n            var pos = this.$root.offset();\n            this.$disableOverlay.css({\n              top: pos.top,\n              left: pos.left,\n              width: this.$root.outerWidth(),\n              height: this.$root.outerHeight()\n            });\n          }\n\n          return;\n        } // hide sub menus on resize - on mobile do it only on orientation change\n\n\n        if (!('onorientationchange' in window) || e.type == 'orientationchange') {\n          var isCollapsible = this.isCollapsible(); // if it was collapsible before resize and still is, don't do it\n\n          if (!(this.wasCollapsible && isCollapsible)) {\n            if (this.activatedItems.length) {\n              this.activatedItems[this.activatedItems.length - 1][0].blur();\n            }\n\n            this.menuHideAll();\n          }\n\n          this.wasCollapsible = isCollapsible;\n        }\n      }\n    }\n  });\n\n  $.fn.dataSM = function (key, val) {\n    if (val) {\n      return this.data(key + '_smartmenus', val);\n    }\n\n    return this.data(key + '_smartmenus');\n  };\n\n  $.fn.removeDataSM = function (key) {\n    return this.removeData(key + '_smartmenus');\n  };\n\n  $.fn.smartmenus = function (options) {\n    if (typeof options == 'string') {\n      var args = arguments,\n          method = options;\n      Array.prototype.shift.call(args);\n      return this.each(function () {\n        var smartmenus = $(this).data('smartmenus');\n\n        if (smartmenus && smartmenus[method]) {\n          smartmenus[method].apply(smartmenus, args);\n        }\n      });\n    }\n\n    var opts = $.extend({}, $.fn.smartmenus.defaults, options);\n    return this.each(function () {\n      new $.SmartMenus(this, opts);\n    });\n  }; // default settings\n\n\n  $.fn.smartmenus.defaults = {\n    isPopup: false,\n    // is this a popup menu (can be shown via the popupShow/popupHide methods) or a permanent menu bar\n    mainMenuSubOffsetX: 0,\n    // pixels offset from default position\n    mainMenuSubOffsetY: 0,\n    // pixels offset from default position\n    subMenusSubOffsetX: 0,\n    // pixels offset from default position\n    subMenusSubOffsetY: 0,\n    // pixels offset from default position\n    subMenusMinWidth: '10em',\n    // min-width for the sub menus (any CSS unit) - if set, the fixed width set in CSS will be ignored\n    subMenusMaxWidth: '20em',\n    // max-width for the sub menus (any CSS unit) - if set, the fixed width set in CSS will be ignored\n    subIndicators: true,\n    // create sub menu indicators - creates a SPAN and inserts it in the A\n    subIndicatorsPos: 'prepend',\n    // position of the SPAN relative to the menu item content ('prepend', 'append')\n    subIndicatorsText: '+',\n    // [optionally] add text in the SPAN (e.g. '+') (you may want to check the CSS for the sub indicators too)\n    scrollStep: 30,\n    // pixels step when scrolling long sub menus that do not fit in the viewport height\n    scrollAccelerate: true,\n    // accelerate scrolling or use a fixed step\n    showTimeout: 250,\n    // timeout before showing the sub menus\n    hideTimeout: 500,\n    // timeout before hiding the sub menus\n    showDuration: 0,\n    // duration for show animation - set to 0 for no animation - matters only if showFunction:null\n    showFunction: null,\n    // custom function to use when showing a sub menu (the default is the jQuery 'show')\n    // don't forget to call complete() at the end of whatever you do\n    // e.g.: function($ul, complete) { $ul.fadeIn(250, complete); }\n    hideDuration: 0,\n    // duration for hide animation - set to 0 for no animation - matters only if hideFunction:null\n    hideFunction: function hideFunction($ul, complete) {\n      $ul.fadeOut(200, complete);\n    },\n    // custom function to use when hiding a sub menu (the default is the jQuery 'hide')\n    // don't forget to call complete() at the end of whatever you do\n    // e.g.: function($ul, complete) { $ul.fadeOut(250, complete); }\n    collapsibleShowDuration: 0,\n    // duration for show animation for collapsible sub menus - matters only if collapsibleShowFunction:null\n    collapsibleShowFunction: function collapsibleShowFunction($ul, complete) {\n      $ul.slideDown(200, complete);\n    },\n    // custom function to use when showing a collapsible sub menu\n    // (i.e. when mobile styles are used to make the sub menus collapsible)\n    collapsibleHideDuration: 0,\n    // duration for hide animation for collapsible sub menus - matters only if collapsibleHideFunction:null\n    collapsibleHideFunction: function collapsibleHideFunction($ul, complete) {\n      $ul.slideUp(200, complete);\n    },\n    // custom function to use when hiding a collapsible sub menu\n    // (i.e. when mobile styles are used to make the sub menus collapsible)\n    showOnClick: false,\n    // show the first-level sub menus onclick instead of onmouseover (i.e. mimic desktop app menus) (matters only for mouse input)\n    hideOnClick: true,\n    // hide the sub menus on click/tap anywhere on the page\n    noMouseOver: false,\n    // disable sub menus activation onmouseover (i.e. behave like in touch mode - use just mouse clicks) (matters only for mouse input)\n    keepInViewport: true,\n    // reposition the sub menus if needed to make sure they always appear inside the viewport\n    keepHighlighted: true,\n    // keep all ancestor items of the current sub menu highlighted (adds the 'highlighted' class to the A's)\n    markCurrentItem: false,\n    // automatically add the 'current' class to the A element of the item linking to the current URL\n    markCurrentTree: true,\n    // add the 'current' class also to the A elements of all ancestor items of the current item\n    rightToLeftSubMenus: false,\n    // right to left display of the sub menus (check the CSS for the sub indicators' position)\n    bottomToTopSubMenus: false,\n    // bottom to top display of the sub menus\n    overlapControlsInIE: true // make sure sub menus appear on top of special OS controls in IE (i.e. SELECT, OBJECT, EMBED, etc.)\n\n  };\n  return $;\n});","map":{"version":3,"sources":["/home/kashif/Documents/FinalYearProject/EshopperPk/src/frontEnd/frontEndStyleing/js/jquery.smartmenus.js"],"names":["factory","define","amd","module","exports","require","jQuery","$","menuTrees","IE","window","createPopup","mouse","touchEvents","mouseDetectionEnabled","requestAnimationFrame","callback","setTimeout","cancelAnimationFrame","id","clearTimeout","initMouseDetection","disable","eNS","firstTime","lastMove","document","bind","getEventsNS","e","thisMove","x","pageX","y","pageY","timeStamp","Date","getTime","deltaX","Math","abs","deltaY","$a","target","closest","is","each","contains","$root","itemEnter","currentTarget","isTouchEvent","originalEvent","unbind","test","pointerType","defArr","obj","index","value","split","join","SmartMenus","elm","options","opts","rootId","accessIdPrefix","$subArrow","activatedItems","visibleSubMenus","showTimeout","hideTimeout","scrollTimeout","clickActivated","focusActivated","zIndexInc","idInc","$firstLink","$firstSub","disabled","$disableOverlay","$touchScrollingSub","cssTransforms3d","style","wasCollapsible","init","extend","hideAll","menuHideAll","destroy","length","prototype","refresh","self","push","random","replace","hasClass","rightToLeftSubMenus","data","attr","dataSM","proxy","rootOver","rootOut","rootKeyDown","delegate","itemLeave","itemDown","itemFocus","itemBlur","itemClick","hideOnClick","docTouchStart","docTouchMove","docTouchEnd","docClick","winResize","subIndicators","addClass","subIndicatorsText","html","find","menuInit","eq","markCurrentItem","reDefaultDoc","reHash","locHref","location","href","locHrefNoHash","$this","markCurrentTree","parentsUntil","isCollapsible","removeData","removeAttr","removeDataSM","undelegate","remove","subMenusMinWidth","subMenusMaxWidth","css","width","minWidth","maxWidth","removeClass","zIndex","top","left","marginLeft","marginTop","display","indexOf","splice","inArray","noOverlay","isPopup","pos","offset","position","outerWidth","height","outerHeight","getStartZIndex","opacity","appendTo","body","lastTouch","x2","undefined","x1","y2","y1","touchPoint","touches","enable","getClosestMenu","$closestMenu","parent","getHeight","$elm","getOffset","old","visibility","show","box","getBoundingClientRect","val","bottom","right","offsetHeight","offsetWidth","hide","root","parseInt","isNaN","getTouchPoint","changedTouches","getViewport","name","documentElement","val2","min","getViewportHeight","getViewportWidth","getWidth","handleEvents","isCSSOn","handleItemEvents","isLinkInMegaMenu","isFixed","isTouchMode","noMouseOver","itemActivate","focus","$ul","level","get","reverse","add","menuHideSubMenus","triggerHandler","$sub","showOnClick","menuShow","stopPropagation","subArrowClicked","firstLevelSub","menuHide","blur","stop","complete","collapsibleHideFunction","call","collapsibleHideDuration","hideFunction","hideDuration","transform","menuScrollStop","i","menuIframeShim","overlapControlsInIE","src","tabindex","border","par","parentNode","prevAll","aId","ulId","subIndicatorsPos","clone","menuPosition","$li","subW","subH","itemOffset","itemX","itemY","itemW","itemH","$win","winX","scrollLeft","winY","scrollTop","winW","winH","horizontalParent","rightToLeft","subOffsetX","mainMenuSubOffsetX","subMenusSubOffsetX","subOffsetY","mainMenuSubOffsetY","subMenusSubOffsetY","bottomToTopSubMenus","keepInViewport","absX","absY","mouseenter","up","menuScroll","mouseleave","menuScrollOut","preventDefault","insertAfter","step","arrowDownH","menuScrollOver","menuScrollMousewheel","menuScrollTouch","once","$arrows","end","upEnd","downEnd","diff","momentum","scrollAccelerate","scrollStep","floor","wheelDelta","detail","relatedTarget","className","menuScrollRefreshData","parseFloat","type","touchStartY","touchStartTime","prevY","touchY","pow","keepHighlighted","noMaxWidth","insertBefore","collapsibleShowFunction","collapsibleShowDuration","showFunction","showDuration","popupHide","noHideTimeout","popupShow","alert","keyCode","$activeTopItem","$target","fn","key","smartmenus","args","arguments","method","Array","shift","apply","defaults","fadeOut","slideDown","slideUp"],"mappings":"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","sourcesContent":["/*!\n * SmartMenus jQuery Plugin - v1.0.0 - January 27, 2016\n * http://www.smartmenus.org/\n *\n * Copyright Vasil Dinkov, Vadikom Web Ltd.\n * http://vadikom.com\n *\n * Licensed MIT\n */\n\n(function(factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD\n\t\tdefine(['jquery'], factory);\n\t} else if (typeof module === 'object' && typeof module.exports === 'object') {\n\t\t// CommonJS\n\t\tmodule.exports = factory(require('jquery'));\n\t} else {\n\t\t// Global jQuery\n\t\tfactory(jQuery);\n\t}\n} (function($) {\n\n\tvar menuTrees = [],\n\t\tIE = !!window.createPopup, // detect it for the iframe shim\n\t\tmouse = false, // optimize for touch by default - we will detect for mouse input\n\t\ttouchEvents = 'ontouchstart' in window, // we use this just to choose between toucn and pointer events, not for touch screen detection\n\t\tmouseDetectionEnabled = false,\n\t\trequestAnimationFrame = window.requestAnimationFrame || function(callback) { return setTimeout(callback, 1000 / 60); },\n\t\tcancelAnimationFrame = window.cancelAnimationFrame || function(id) { clearTimeout(id); };\n\n\t// Handle detection for mouse input (i.e. desktop browsers, tablets with a mouse, etc.)\n\tfunction initMouseDetection(disable) {\n\t\tvar eNS = '.smartmenus_mouse';\n\t\tif (!mouseDetectionEnabled && !disable) {\n\t\t\t// if we get two consecutive mousemoves within 2 pixels from each other and within 300ms, we assume a real mouse/cursor is present\n\t\t\t// in practice, this seems like impossible to trick unintentianally with a real mouse and a pretty safe detection on touch devices (even with older browsers that do not support touch events)\n\t\t\tvar firstTime = true,\n\t\t\t\tlastMove = null;\n\t\t\t$(document).bind(getEventsNS([\n\t\t\t\t['mousemove', function(e) {\n\t\t\t\t\tvar thisMove = { x: e.pageX, y: e.pageY, timeStamp: new Date().getTime() };\n\t\t\t\t\tif (lastMove) {\n\t\t\t\t\t\tvar deltaX = Math.abs(lastMove.x - thisMove.x),\n\t\t\t\t\t\t\tdeltaY = Math.abs(lastMove.y - thisMove.y);\n\t \t\t\t\t\tif ((deltaX > 0 || deltaY > 0) && deltaX <= 2 && deltaY <= 2 && thisMove.timeStamp - lastMove.timeStamp <= 300) {\n\t\t\t\t\t\t\tmouse = true;\n\t\t\t\t\t\t\t// if this is the first check after page load, check if we are not over some item by chance and call the mouseenter handler if yes\n\t\t\t\t\t\t\tif (firstTime) {\n\t\t\t\t\t\t\t\tvar $a = $(e.target).closest('a');\n\t\t\t\t\t\t\t\tif ($a.is('a')) {\n\t\t\t\t\t\t\t\t\t$.each(menuTrees, function() {\n\t\t\t\t\t\t\t\t\t\tif ($.contains(this.$root[0], $a[0])) {\n\t\t\t\t\t\t\t\t\t\t\tthis.itemEnter({ currentTarget: $a[0] });\n\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tfirstTime = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlastMove = thisMove;\n\t\t\t\t}],\n\t\t\t\t[touchEvents ? 'touchstart' : 'pointerover pointermove pointerout MSPointerOver MSPointerMove MSPointerOut', function(e) {\n\t\t\t\t\tif (isTouchEvent(e.originalEvent)) {\n\t\t\t\t\t\tmouse = false;\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t], eNS));\n\t\t\tmouseDetectionEnabled = true;\n\t\t} else if (mouseDetectionEnabled && disable) {\n\t\t\t$(document).unbind(eNS);\n\t\t\tmouseDetectionEnabled = false;\n\t\t}\n\t}\n\n\tfunction isTouchEvent(e) {\n\t\treturn !/^(4|mouse)$/.test(e.pointerType);\n\t}\n\n\t// returns a jQuery bind() ready object\n\tfunction getEventsNS(defArr, eNS) {\n\t\tif (!eNS) {\n\t\t\teNS = '';\n\t\t}\n\t\tvar obj = {};\n\t\t$.each(defArr, function(index, value) {\n\t\t\tobj[value[0].split(' ').join(eNS + ' ') + eNS] = value[1];\n\t\t});\n\t\treturn obj;\n\t}\n\n\t$.SmartMenus = function(elm, options) {\n\t\tthis.$root = $(elm);\n\t\tthis.opts = options;\n\t\tthis.rootId = ''; // internal\n\t\tthis.accessIdPrefix = '';\n\t\tthis.$subArrow = null;\n\t\tthis.activatedItems = []; // stores last activated A's for each level\n\t\tthis.visibleSubMenus = []; // stores visible sub menus UL's (might be in no particular order)\n\t\tthis.showTimeout = 0;\n\t\tthis.hideTimeout = 0;\n\t\tthis.scrollTimeout = 0;\n\t\tthis.clickActivated = false;\n\t\tthis.focusActivated = false;\n\t\tthis.zIndexInc = 0;\n\t\tthis.idInc = 0;\n\t\tthis.$firstLink = null; // we'll use these for some tests\n\t\tthis.$firstSub = null; // at runtime so we'll cache them\n\t\tthis.disabled = false;\n\t\tthis.$disableOverlay = null;\n\t\tthis.$touchScrollingSub = null;\n\t\tthis.cssTransforms3d = 'perspective' in elm.style || 'webkitPerspective' in elm.style;\n\t\tthis.wasCollapsible = false;\n\t\tthis.init();\n\t};\n\n\t$.extend($.SmartMenus, {\n\t\thideAll: function() {\n\t\t\t$.each(menuTrees, function() {\n\t\t\t\tthis.menuHideAll();\n\t\t\t});\n\t\t},\n\t\tdestroy: function() {\n\t\t\twhile (menuTrees.length) {\n\t\t\t\tmenuTrees[0].destroy();\n\t\t\t}\n\t\t\tinitMouseDetection(true);\n\t\t},\n\t\tprototype: {\n\t\t\tinit: function(refresh) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif (!refresh) {\n\t\t\t\t\tmenuTrees.push(this);\n\n\t\t\t\t\tthis.rootId = (new Date().getTime() + Math.random() + '').replace(/\\D/g, '');\n\t\t\t\t\tthis.accessIdPrefix = 'sm-' + this.rootId + '-';\n\n\t\t\t\t\tif (this.$root.hasClass('sm-rtl')) {\n\t\t\t\t\t\tthis.opts.rightToLeftSubMenus = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// init root (main menu)\n\t\t\t\t\tvar eNS = '.smartmenus';\n\t\t\t\t\tthis.$root\n\t\t\t\t\t\t.data('smartmenus', this)\n\t\t\t\t\t\t.attr('data-smartmenus-id', this.rootId)\n\t\t\t\t\t\t.dataSM('level', 1)\n\t\t\t\t\t\t.bind(getEventsNS([\n\t\t\t\t\t\t\t['mouseover focusin', $.proxy(this.rootOver, this)],\n\t\t\t\t\t\t\t['mouseout focusout', $.proxy(this.rootOut, this)],\n\t\t\t\t\t\t\t['keydown', $.proxy(this.rootKeyDown, this)]\n\t\t\t\t\t\t], eNS))\n\t\t\t\t\t\t.delegate('a', getEventsNS([\n\t\t\t\t\t\t\t['mouseenter', $.proxy(this.itemEnter, this)],\n\t\t\t\t\t\t\t['mouseleave', $.proxy(this.itemLeave, this)],\n\t\t\t\t\t\t\t['mousedown', $.proxy(this.itemDown, this)],\n\t\t\t\t\t\t\t['focus', $.proxy(this.itemFocus, this)],\n\t\t\t\t\t\t\t['blur', $.proxy(this.itemBlur, this)],\n\t\t\t\t\t\t\t['click', $.proxy(this.itemClick, this)]\n\t\t\t\t\t\t], eNS));\n\n\t\t\t\t\t// hide menus on tap or click outside the root UL\n\t\t\t\t\teNS += this.rootId;\n\t\t\t\t\tif (this.opts.hideOnClick) {\n\t\t\t\t\t\t$(document).bind(getEventsNS([\n\t\t\t\t\t\t\t['touchstart', $.proxy(this.docTouchStart, this)],\n\t\t\t\t\t\t\t['touchmove', $.proxy(this.docTouchMove, this)],\n\t\t\t\t\t\t\t['touchend', $.proxy(this.docTouchEnd, this)],\n\t\t\t\t\t\t\t// for Opera Mobile < 11.5, webOS browser, etc. we'll check click too\n\t\t\t\t\t\t\t['click', $.proxy(this.docClick, this)]\n\t\t\t\t\t\t], eNS));\n\t\t\t\t\t}\n\t\t\t\t\t// hide sub menus on resize\n\t\t\t\t\t$(window).bind(getEventsNS([['resize orientationchange', $.proxy(this.winResize, this)]], eNS));\n\n\t\t\t\t\tif (this.opts.subIndicators) {\n\t\t\t\t\t\tthis.$subArrow = $('<span/>').addClass('sub-arrow');\n\t\t\t\t\t\tif (this.opts.subIndicatorsText) {\n\t\t\t\t\t\t\tthis.$subArrow.html(this.opts.subIndicatorsText);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// make sure mouse detection is enabled\n\t\t\t\t\tinitMouseDetection();\n\t\t\t\t}\n\n\t\t\t\t// init sub menus\n\t\t\t\tthis.$firstSub = this.$root.find('ul').each(function() { self.menuInit($(this)); }).eq(0);\n\n\t\t\t\tthis.$firstLink = this.$root.find('a').eq(0);\n\n\t\t\t\t// find current item\n\t\t\t\tif (this.opts.markCurrentItem) {\n\t\t\t\t\tvar reDefaultDoc = /(index|default)\\.[^#\\?\\/]*/i,\n\t\t\t\t\t\treHash = /#.*/,\n\t\t\t\t\t\tlocHref = window.location.href.replace(reDefaultDoc, ''),\n\t\t\t\t\t\tlocHrefNoHash = locHref.replace(reHash, '');\n\t\t\t\t\tthis.$root.find('a').each(function() {\n\t\t\t\t\t\tvar href = this.href.replace(reDefaultDoc, ''),\n\t\t\t\t\t\t\t$this = $(this);\n\t\t\t\t\t\tif (href == locHref || href == locHrefNoHash) {\n\t\t\t\t\t\t\t$this.addClass('current');\n\t\t\t\t\t\t\tif (self.opts.markCurrentTree) {\n\t\t\t\t\t\t\t\t$this.parentsUntil('[data-smartmenus-id]', 'ul').each(function() {\n\t\t\t\t\t\t\t\t\t$(this).dataSM('parent-a').addClass('current');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// save initial state\n\t\t\t\tthis.wasCollapsible = this.isCollapsible();\n\t\t\t},\n\t\t\tdestroy: function(refresh) {\n\t\t\t\tif (!refresh) {\n\t\t\t\t\tvar eNS = '.smartmenus';\n\t\t\t\t\tthis.$root\n\t\t\t\t\t\t.removeData('smartmenus')\n\t\t\t\t\t\t.removeAttr('data-smartmenus-id')\n\t\t\t\t\t\t.removeDataSM('level')\n\t\t\t\t\t\t.unbind(eNS)\n\t\t\t\t\t\t.undelegate(eNS);\n\t\t\t\t\teNS += this.rootId;\n\t\t\t\t\t$(document).unbind(eNS);\n\t\t\t\t\t$(window).unbind(eNS);\n\t\t\t\t\tif (this.opts.subIndicators) {\n\t\t\t\t\t\tthis.$subArrow = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.menuHideAll();\n\t\t\t\tvar self = this;\n\t\t\t\tthis.$root.find('ul').each(function() {\n\t\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\t\tif ($this.dataSM('scroll-arrows')) {\n\t\t\t\t\t\t\t$this.dataSM('scroll-arrows').remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($this.dataSM('shown-before')) {\n\t\t\t\t\t\t\tif (self.opts.subMenusMinWidth || self.opts.subMenusMaxWidth) {\n\t\t\t\t\t\t\t\t$this.css({ width: '', minWidth: '', maxWidth: '' }).removeClass('sm-nowrap');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ($this.dataSM('scroll-arrows')) {\n\t\t\t\t\t\t\t\t$this.dataSM('scroll-arrows').remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$this.css({ zIndex: '', top: '', left: '', marginLeft: '', marginTop: '', display: '' });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (($this.attr('id') || '').indexOf(self.accessIdPrefix) == 0) {\n\t\t\t\t\t\t\t$this.removeAttr('id');\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.removeDataSM('in-mega')\n\t\t\t\t\t.removeDataSM('shown-before')\n\t\t\t\t\t.removeDataSM('ie-shim')\n\t\t\t\t\t.removeDataSM('scroll-arrows')\n\t\t\t\t\t.removeDataSM('parent-a')\n\t\t\t\t\t.removeDataSM('level')\n\t\t\t\t\t.removeDataSM('beforefirstshowfired')\n\t\t\t\t\t.removeAttr('role')\n\t\t\t\t\t.removeAttr('aria-hidden')\n\t\t\t\t\t.removeAttr('aria-labelledby')\n\t\t\t\t\t.removeAttr('aria-expanded');\n\t\t\t\tthis.$root.find('a.has-submenu').each(function() {\n\t\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\t\tif ($this.attr('id').indexOf(self.accessIdPrefix) == 0) {\n\t\t\t\t\t\t\t$this.removeAttr('id');\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.removeClass('has-submenu')\n\t\t\t\t\t.removeDataSM('sub')\n\t\t\t\t\t.removeAttr('aria-haspopup')\n\t\t\t\t\t.removeAttr('aria-controls')\n\t\t\t\t\t.removeAttr('aria-expanded')\n\t\t\t\t\t.closest('li').removeDataSM('sub');\n\t\t\t\tif (this.opts.subIndicators) {\n\t\t\t\t\tthis.$root.find('span.sub-arrow').remove();\n\t\t\t\t}\n\t\t\t\tif (this.opts.markCurrentItem) {\n\t\t\t\t\tthis.$root.find('a.current').removeClass('current');\n\t\t\t\t}\n\t\t\t\tif (!refresh) {\n\t\t\t\t\tthis.$root = null;\n\t\t\t\t\tthis.$firstLink = null;\n\t\t\t\t\tthis.$firstSub = null;\n\t\t\t\t\tif (this.$disableOverlay) {\n\t\t\t\t\t\tthis.$disableOverlay.remove();\n\t\t\t\t\t\tthis.$disableOverlay = null;\n\t\t\t\t\t}\n\t\t\t\t\tmenuTrees.splice($.inArray(this, menuTrees), 1);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdisable: function(noOverlay) {\n\t\t\t\tif (!this.disabled) {\n\t\t\t\t\tthis.menuHideAll();\n\t\t\t\t\t// display overlay over the menu to prevent interaction\n\t\t\t\t\tif (!noOverlay && !this.opts.isPopup && this.$root.is(':visible')) {\n\t\t\t\t\t\tvar pos = this.$root.offset();\n\t\t\t\t\t\tthis.$disableOverlay = $('<div class=\"sm-jquery-disable-overlay\"/>').css({\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\ttop: pos.top,\n\t\t\t\t\t\t\tleft: pos.left,\n\t\t\t\t\t\t\twidth: this.$root.outerWidth(),\n\t\t\t\t\t\t\theight: this.$root.outerHeight(),\n\t\t\t\t\t\t\tzIndex: this.getStartZIndex(true),\n\t\t\t\t\t\t\topacity: 0\n\t\t\t\t\t\t}).appendTo(document.body);\n\t\t\t\t\t}\n\t\t\t\t\tthis.disabled = true;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdocClick: function(e) {\n\t\t\t\tif (this.$touchScrollingSub) {\n\t\t\t\t\tthis.$touchScrollingSub = null;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// hide on any click outside the menu or on a menu link\n\t\t\t\tif (this.visibleSubMenus.length && !$.contains(this.$root[0], e.target) || $(e.target).is('a')) {\n\t\t\t\t\tthis.menuHideAll();\n\t\t\t\t}\n\t\t\t},\n\t\t\tdocTouchEnd: function(e) {\n\t\t\t\tif (!this.lastTouch) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.visibleSubMenus.length && (this.lastTouch.x2 === undefined || this.lastTouch.x1 == this.lastTouch.x2) && (this.lastTouch.y2 === undefined || this.lastTouch.y1 == this.lastTouch.y2) && (!this.lastTouch.target || !$.contains(this.$root[0], this.lastTouch.target))) {\n\t\t\t\t\tif (this.hideTimeout) {\n\t\t\t\t\t\tclearTimeout(this.hideTimeout);\n\t\t\t\t\t\tthis.hideTimeout = 0;\n\t\t\t\t\t}\n\t\t\t\t\t// hide with a delay to prevent triggering accidental unwanted click on some page element\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tthis.hideTimeout = setTimeout(function() { self.menuHideAll(); }, 350);\n\t\t\t\t}\n\t\t\t\tthis.lastTouch = null;\n\t\t\t},\n\t\t\tdocTouchMove: function(e) {\n\t\t\t\tif (!this.lastTouch) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar touchPoint = e.originalEvent.touches[0];\n\t\t\t\tthis.lastTouch.x2 = touchPoint.pageX;\n\t\t\t\tthis.lastTouch.y2 = touchPoint.pageY;\n\t\t\t},\n\t\t\tdocTouchStart: function(e) {\n\t\t\t\tvar touchPoint = e.originalEvent.touches[0];\n\t\t\t\tthis.lastTouch = { x1: touchPoint.pageX, y1: touchPoint.pageY, target: touchPoint.target };\n\t\t\t},\n\t\t\tenable: function() {\n\t\t\t\tif (this.disabled) {\n\t\t\t\t\tif (this.$disableOverlay) {\n\t\t\t\t\t\tthis.$disableOverlay.remove();\n\t\t\t\t\t\tthis.$disableOverlay = null;\n\t\t\t\t\t}\n\t\t\t\t\tthis.disabled = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetClosestMenu: function(elm) {\n\t\t\t\tvar $closestMenu = $(elm).closest('ul');\n\t\t\t\twhile ($closestMenu.dataSM('in-mega')) {\n\t\t\t\t\t$closestMenu = $closestMenu.parent().closest('ul');\n\t\t\t\t}\n\t\t\t\treturn $closestMenu[0] || null;\n\t\t\t},\n\t\t\tgetHeight: function($elm) {\n\t\t\t\treturn this.getOffset($elm, true);\n\t\t\t},\n\t\t\t// returns precise width/height float values\n\t\t\tgetOffset: function($elm, height) {\n\t\t\t\tvar old;\n\t\t\t\tif ($elm.css('display') == 'none') {\n\t\t\t\t\told = { position: $elm[0].style.position, visibility: $elm[0].style.visibility };\n\t\t\t\t\t$elm.css({ position: 'absolute', visibility: 'hidden' }).show();\n\t\t\t\t}\n\t\t\t\tvar box = $elm[0].getBoundingClientRect && $elm[0].getBoundingClientRect(),\n\t\t\t\t\tval = box && (height ? box.height || box.bottom - box.top : box.width || box.right - box.left);\n\t\t\t\tif (!val && val !== 0) {\n\t\t\t\t\tval = height ? $elm[0].offsetHeight : $elm[0].offsetWidth;\n\t\t\t\t}\n\t\t\t\tif (old) {\n\t\t\t\t\t$elm.hide().css(old);\n\t\t\t\t}\n\t\t\t\treturn val;\n\t\t\t},\n\t\t\tgetStartZIndex: function(root) {\n\t\t\t\tvar zIndex = parseInt(this[root ? '$root' : '$firstSub'].css('z-index'));\n\t\t\t\tif (!root && isNaN(zIndex)) {\n\t\t\t\t\tzIndex = parseInt(this.$root.css('z-index'));\n\t\t\t\t}\n\t\t\t\treturn !isNaN(zIndex) ? zIndex : 1;\n\t\t\t},\n\t\t\tgetTouchPoint: function(e) {\n\t\t\t\treturn e.touches && e.touches[0] || e.changedTouches && e.changedTouches[0] || e;\n\t\t\t},\n\t\t\tgetViewport: function(height) {\n\t\t\t\tvar name = height ? 'Height' : 'Width',\n\t\t\t\t\tval = document.documentElement['client' + name],\n\t\t\t\t\tval2 = window['inner' + name];\n\t\t\t\tif (val2) {\n\t\t\t\t\tval = Math.min(val, val2);\n\t\t\t\t}\n\t\t\t\treturn val;\n\t\t\t},\n\t\t\tgetViewportHeight: function() {\n\t\t\t\treturn this.getViewport(true);\n\t\t\t},\n\t\t\tgetViewportWidth: function() {\n\t\t\t\treturn this.getViewport();\n\t\t\t},\n\t\t\tgetWidth: function($elm) {\n\t\t\t\treturn this.getOffset($elm);\n\t\t\t},\n\t\t\thandleEvents: function() {\n\t\t\t\treturn !this.disabled && this.isCSSOn();\n\t\t\t},\n\t\t\thandleItemEvents: function($a) {\n\t\t\t\treturn this.handleEvents() && !this.isLinkInMegaMenu($a);\n\t\t\t},\n\t\t\tisCollapsible: function() {\n\t\t\t\treturn this.$firstSub.css('position') == 'static';\n\t\t\t},\n\t\t\tisCSSOn: function() {\n\t\t\t\treturn this.$firstLink.css('display') == 'block';\n\t\t\t},\n\t\t\tisFixed: function() {\n\t\t\t\tvar isFixed = this.$root.css('position') == 'fixed';\n\t\t\t\tif (!isFixed) {\n\t\t\t\t\tthis.$root.parentsUntil('body').each(function() {\n\t\t\t\t\t\tif ($(this).css('position') == 'fixed') {\n\t\t\t\t\t\t\tisFixed = true;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn isFixed;\n\t\t\t},\n\t\t\tisLinkInMegaMenu: function($a) {\n\t\t\t\treturn $(this.getClosestMenu($a[0])).hasClass('mega-menu');\n\t\t\t},\n\t\t\tisTouchMode: function() {\n\t\t\t\treturn !mouse || this.opts.noMouseOver || this.isCollapsible();\n\t\t\t},\n\t\t\titemActivate: function($a, focus) {\n\t\t\t\tvar $ul = $a.closest('ul'),\n\t\t\t\t\tlevel = $ul.dataSM('level');\n\t\t\t\t// if for some reason the parent item is not activated (e.g. this is an API call to activate the item), activate all parent items first\n\t\t\t\tif (level > 1 && (!this.activatedItems[level - 2] || this.activatedItems[level - 2][0] != $ul.dataSM('parent-a')[0])) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\t$($ul.parentsUntil('[data-smartmenus-id]', 'ul').get().reverse()).add($ul).each(function() {\n\t\t\t\t\t\tself.itemActivate($(this).dataSM('parent-a'));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t// hide any visible deeper level sub menus\n\t\t\t\tif (!this.isCollapsible() || focus) {\n\t\t\t\t\tthis.menuHideSubMenus(!this.activatedItems[level - 1] || this.activatedItems[level - 1][0] != $a[0] ? level - 1 : level);\n\t\t\t\t}\n\t\t\t\t// save new active item for this level\n\t\t\t\tthis.activatedItems[level - 1] = $a;\n\t\t\t\tif (this.$root.triggerHandler('activate.smapi', $a[0]) === false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// show the sub menu if this item has one\n\t\t\t\tvar $sub = $a.dataSM('sub');\n\t\t\t\tif ($sub && (this.isTouchMode() || (!this.opts.showOnClick || this.clickActivated))) {\n\t\t\t\t\tthis.menuShow($sub);\n\t\t\t\t}\n\t\t\t},\n\t\t\titemBlur: function(e) {\n\t\t\t\tvar $a = $(e.currentTarget);\n\t\t\t\tif (!this.handleItemEvents($a)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.$root.triggerHandler('blur.smapi', $a[0]);\n\t\t\t},\n\t\t\titemClick: function(e) {\n\t\t\t\tvar $a = $(e.currentTarget);\n\t\t\t\tif (!this.handleItemEvents($a)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.$touchScrollingSub && this.$touchScrollingSub[0] == $a.closest('ul')[0]) {\n\t\t\t\t\tthis.$touchScrollingSub = null;\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (this.$root.triggerHandler('click.smapi', $a[0]) === false) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar subArrowClicked = $(e.target).is('span.sub-arrow'),\n\t\t\t\t\t$sub = $a.dataSM('sub'),\n\t\t\t\t\tfirstLevelSub = $sub ? $sub.dataSM('level') == 2 : false;\n\t\t\t\t// if the sub is not visible\n\t\t\t\tif ($sub && !$sub.is(':visible')) {\n\t\t\t\t\tif (this.opts.showOnClick && firstLevelSub) {\n\t\t\t\t\t\tthis.clickActivated = true;\n\t\t\t\t\t}\n\t\t\t\t\t// try to activate the item and show the sub\n\t\t\t\t\tthis.itemActivate($a);\n\t\t\t\t\t// if \"itemActivate\" showed the sub, prevent the click so that the link is not loaded\n\t\t\t\t\t// if it couldn't show it, then the sub menus are disabled with an !important declaration (e.g. via mobile styles) so let the link get loaded\n\t\t\t\t\tif ($sub.is(':visible')) {\n\t\t\t\t\t\tthis.focusActivated = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else if (this.isCollapsible() && subArrowClicked) {\n\t\t\t\t\tthis.itemActivate($a);\n\t\t\t\t\tthis.menuHide($sub);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (this.opts.showOnClick && firstLevelSub || $a.hasClass('disabled') || this.$root.triggerHandler('select.smapi', $a[0]) === false) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\titemDown: function(e) {\n\t\t\t\tvar $a = $(e.currentTarget);\n\t\t\t\tif (!this.handleItemEvents($a)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$a.dataSM('mousedown', true);\n\t\t\t},\n\t\t\titemEnter: function(e) {\n\t\t\t\tvar $a = $(e.currentTarget);\n\t\t\t\tif (!this.handleItemEvents($a)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!this.isTouchMode()) {\n\t\t\t\t\tif (this.showTimeout) {\n\t\t\t\t\t\tclearTimeout(this.showTimeout);\n\t\t\t\t\t\tthis.showTimeout = 0;\n\t\t\t\t\t}\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tthis.showTimeout = setTimeout(function() { self.itemActivate($a); }, this.opts.showOnClick && $a.closest('ul').dataSM('level') == 1 ? 1 : this.opts.showTimeout);\n\t\t\t\t}\n\t\t\t\tthis.$root.triggerHandler('mouseenter.smapi', $a[0]);\n\t\t\t},\n\t\t\titemFocus: function(e) {\n\t\t\t\tvar $a = $(e.currentTarget);\n\t\t\t\tif (!this.handleItemEvents($a)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// fix (the mousedown check): in some browsers a tap/click produces consecutive focus + click events so we don't need to activate the item on focus\n\t\t\t\tif (this.focusActivated && (!this.isTouchMode() || !$a.dataSM('mousedown')) && (!this.activatedItems.length || this.activatedItems[this.activatedItems.length - 1][0] != $a[0])) {\n\t\t\t\t\tthis.itemActivate($a, true);\n\t\t\t\t}\n\t\t\t\tthis.$root.triggerHandler('focus.smapi', $a[0]);\n\t\t\t},\n\t\t\titemLeave: function(e) {\n\t\t\t\tvar $a = $(e.currentTarget);\n\t\t\t\tif (!this.handleItemEvents($a)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!this.isTouchMode()) {\n\t\t\t\t\t$a[0].blur();\n\t\t\t\t\tif (this.showTimeout) {\n\t\t\t\t\t\tclearTimeout(this.showTimeout);\n\t\t\t\t\t\tthis.showTimeout = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$a.removeDataSM('mousedown');\n\t\t\t\tthis.$root.triggerHandler('mouseleave.smapi', $a[0]);\n\t\t\t},\n\t\t\tmenuHide: function($sub) {\n\t\t\t\tif (this.$root.triggerHandler('beforehide.smapi', $sub[0]) === false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$sub.stop(true, true);\n\t\t\t\tif ($sub.css('display') != 'none') {\n\t\t\t\t\tvar complete = function() {\n\t\t\t\t\t\t// unset z-index\n\t\t\t\t\t\t$sub.css('z-index', '');\n\t\t\t\t\t};\n\t\t\t\t\t// if sub is collapsible (mobile view)\n\t\t\t\t\tif (this.isCollapsible()) {\n\t\t\t\t\t\tif (this.opts.collapsibleHideFunction) {\n\t\t\t\t\t\t\tthis.opts.collapsibleHideFunction.call(this, $sub, complete);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$sub.hide(this.opts.collapsibleHideDuration, complete);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (this.opts.hideFunction) {\n\t\t\t\t\t\t\tthis.opts.hideFunction.call(this, $sub, complete);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$sub.hide(this.opts.hideDuration, complete);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// remove IE iframe shim\n\t\t\t\t\tif ($sub.dataSM('ie-shim')) {\n\t\t\t\t\t\t$sub.dataSM('ie-shim').remove().css({ '-webkit-transform': '', transform: '' });\n\t\t\t\t\t}\n\t\t\t\t\t// deactivate scrolling if it is activated for this sub\n\t\t\t\t\tif ($sub.dataSM('scroll')) {\n\t\t\t\t\t\tthis.menuScrollStop($sub);\n\t\t\t\t\t\t$sub.css({ 'touch-action': '', '-ms-touch-action': '', '-webkit-transform': '', transform: '' })\n\t\t\t\t\t\t\t.unbind('.smartmenus_scroll').removeDataSM('scroll').dataSM('scroll-arrows').hide();\n\t\t\t\t\t}\n\t\t\t\t\t// unhighlight parent item + accessibility\n\t\t\t\t\t$sub.dataSM('parent-a').removeClass('highlighted').attr('aria-expanded', 'false');\n\t\t\t\t\t$sub.attr({\n\t\t\t\t\t\t'aria-expanded': 'false',\n\t\t\t\t\t\t'aria-hidden': 'true'\n\t\t\t\t\t});\n\t\t\t\t\tvar level = $sub.dataSM('level');\n\t\t\t\t\tthis.activatedItems.splice(level - 1, 1);\n\t\t\t\t\tthis.visibleSubMenus.splice($.inArray($sub, this.visibleSubMenus), 1);\n\t\t\t\t\tthis.$root.triggerHandler('hide.smapi', $sub[0]);\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuHideAll: function() {\n\t\t\t\tif (this.showTimeout) {\n\t\t\t\t\tclearTimeout(this.showTimeout);\n\t\t\t\t\tthis.showTimeout = 0;\n\t\t\t\t}\n\t\t\t\t// hide all subs\n\t\t\t\t// if it's a popup, this.visibleSubMenus[0] is the root UL\n\t\t\t\tvar level = this.opts.isPopup ? 1 : 0;\n\t\t\t\tfor (var i = this.visibleSubMenus.length - 1; i >= level; i--) {\n\t\t\t\t\tthis.menuHide(this.visibleSubMenus[i]);\n\t\t\t\t}\n\t\t\t\t// hide root if it's popup\n\t\t\t\tif (this.opts.isPopup) {\n\t\t\t\t\tthis.$root.stop(true, true);\n\t\t\t\t\tif (this.$root.is(':visible')) {\n\t\t\t\t\t\tif (this.opts.hideFunction) {\n\t\t\t\t\t\t\tthis.opts.hideFunction.call(this, this.$root);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$root.hide(this.opts.hideDuration);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// remove IE iframe shim\n\t\t\t\t\t\tif (this.$root.dataSM('ie-shim')) {\n\t\t\t\t\t\t\tthis.$root.dataSM('ie-shim').remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.activatedItems = [];\n\t\t\t\tthis.visibleSubMenus = [];\n\t\t\t\tthis.clickActivated = false;\n\t\t\t\tthis.focusActivated = false;\n\t\t\t\t// reset z-index increment\n\t\t\t\tthis.zIndexInc = 0;\n\t\t\t\tthis.$root.triggerHandler('hideAll.smapi');\n\t\t\t},\n\t\t\tmenuHideSubMenus: function(level) {\n\t\t\t\tfor (var i = this.activatedItems.length - 1; i >= level; i--) {\n\t\t\t\t\tvar $sub = this.activatedItems[i].dataSM('sub');\n\t\t\t\t\tif ($sub) {\n\t\t\t\t\t\tthis.menuHide($sub);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuIframeShim: function($ul) {\n\t\t\t\t// create iframe shim for the menu\n\t\t\t\tif (IE && this.opts.overlapControlsInIE && !$ul.dataSM('ie-shim')) {\n\t\t\t\t\t$ul.dataSM('ie-shim', $('<iframe/>').attr({ src: 'javascript:0', tabindex: -9 })\n\t\t\t\t\t\t.css({ position: 'absolute', top: 'auto', left: '0', opacity: 0, border: '0' })\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuInit: function($ul) {\n\t\t\t\tif (!$ul.dataSM('in-mega')) {\n\t\t\t\t\t// mark UL's in mega drop downs (if any) so we can neglect them\n\t\t\t\t\tif ($ul.hasClass('mega-menu')) {\n\t\t\t\t\t\t$ul.find('ul').dataSM('in-mega', true);\n\t\t\t\t\t}\n\t\t\t\t\t// get level (much faster than, for example, using parentsUntil)\n\t\t\t\t\tvar level = 2,\n\t\t\t\t\t\tpar = $ul[0];\n\t\t\t\t\twhile ((par = par.parentNode.parentNode) != this.$root[0]) {\n\t\t\t\t\t\tlevel++;\n\t\t\t\t\t}\n\t\t\t\t\t// cache stuff for quick access\n\t\t\t\t\tvar $a = $ul.prevAll('a').eq(-1);\n\t\t\t\t\t// if the link is nested (e.g. in a heading)\n\t\t\t\t\tif (!$a.length) {\n\t\t\t\t\t\t$a = $ul.prevAll().find('a').eq(-1);\n\t\t\t\t\t}\n\t\t\t\t\t$a.addClass('has-submenu').dataSM('sub', $ul);\n\t\t\t\t\t$ul.dataSM('parent-a', $a)\n\t\t\t\t\t\t.dataSM('level', level)\n\t\t\t\t\t\t.parent().dataSM('sub', $ul);\n\t\t\t\t\t// accessibility\n\t\t\t\t\tvar aId = $a.attr('id') || this.accessIdPrefix + (++this.idInc),\n\t\t\t\t\t\tulId = $ul.attr('id') || this.accessIdPrefix + (++this.idInc);\n\t\t\t\t\t$a.attr({\n\t\t\t\t\t\tid: aId,\n\t\t\t\t\t\t'aria-haspopup': 'true',\n\t\t\t\t\t\t'aria-controls': ulId,\n\t\t\t\t\t\t'aria-expanded': 'false'\n\t\t\t\t\t});\n\t\t\t\t\t$ul.attr({\n\t\t\t\t\t\tid: ulId,\n\t\t\t\t\t\t'role': 'group',\n\t\t\t\t\t\t'aria-hidden': 'true',\n\t\t\t\t\t\t'aria-labelledby': aId,\n\t\t\t\t\t\t'aria-expanded': 'false'\n\t\t\t\t\t});\n\t\t\t\t\t// add sub indicator to parent item\n\t\t\t\t\tif (this.opts.subIndicators) {\n\t\t\t\t\t\t$a[this.opts.subIndicatorsPos](this.$subArrow.clone());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuPosition: function($sub) {\n\t\t\t\tvar $a = $sub.dataSM('parent-a'),\n\t\t\t\t\t$li = $a.closest('li'),\n\t\t\t\t\t$ul = $li.parent(),\n\t\t\t\t\tlevel = $sub.dataSM('level'),\n\t\t\t\t\tsubW = this.getWidth($sub),\n\t\t\t\t\tsubH = this.getHeight($sub),\n\t\t\t\t\titemOffset = $a.offset(),\n\t\t\t\t\titemX = itemOffset.left,\n\t\t\t\t\titemY = itemOffset.top,\n\t\t\t\t\titemW = this.getWidth($a),\n\t\t\t\t\titemH = this.getHeight($a),\n\t\t\t\t\t$win = $(window),\n\t\t\t\t\twinX = $win.scrollLeft(),\n\t\t\t\t\twinY = $win.scrollTop(),\n\t\t\t\t\twinW = this.getViewportWidth(),\n\t\t\t\t\twinH = this.getViewportHeight(),\n\t\t\t\t\thorizontalParent = $ul.parent().is('[data-sm-horizontal-sub]') || level == 2 && !$ul.hasClass('sm-vertical'),\n\t\t\t\t\trightToLeft = this.opts.rightToLeftSubMenus && !$li.is('[data-sm-reverse]') || !this.opts.rightToLeftSubMenus && $li.is('[data-sm-reverse]'),\n\t\t\t\t\tsubOffsetX = level == 2 ? this.opts.mainMenuSubOffsetX : this.opts.subMenusSubOffsetX,\n\t\t\t\t\tsubOffsetY = level == 2 ? this.opts.mainMenuSubOffsetY : this.opts.subMenusSubOffsetY,\n\t\t\t\t\tx, y;\n\t\t\t\tif (horizontalParent) {\n\t\t\t\t\tx = rightToLeft ? itemW - subW - subOffsetX : subOffsetX;\n\t\t\t\t\ty = this.opts.bottomToTopSubMenus ? -subH - subOffsetY : itemH + subOffsetY;\n\t\t\t\t} else {\n\t\t\t\t\tx = rightToLeft ? subOffsetX - subW : itemW - subOffsetX;\n\t\t\t\t\ty = this.opts.bottomToTopSubMenus ? itemH - subOffsetY - subH : subOffsetY;\n\t\t\t\t}\n\t\t\t\tif (this.opts.keepInViewport) {\n\t\t\t\t\tvar absX = itemX + x,\n\t\t\t\t\t\tabsY = itemY + y;\n\t\t\t\t\tif (rightToLeft && absX < winX) {\n\t\t\t\t\t\tx = horizontalParent ? winX - absX + x : itemW - subOffsetX;\n\t\t\t\t\t} else if (!rightToLeft && absX + subW > winX + winW) {\n\t\t\t\t\t\tx = horizontalParent ? winX + winW - subW - absX + x : subOffsetX - subW;\n\t\t\t\t\t}\n\t\t\t\t\tif (!horizontalParent) {\n\t\t\t\t\t\tif (subH < winH && absY + subH > winY + winH) {\n\t\t\t\t\t\t\ty += winY + winH - subH - absY;\n\t\t\t\t\t\t} else if (subH >= winH || absY < winY) {\n\t\t\t\t\t\t\ty += winY - absY;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// do we need scrolling?\n\t\t\t\t\t// 0.49 used for better precision when dealing with float values\n\t\t\t\t\tif (horizontalParent && (absY + subH > winY + winH + 0.49 || absY < winY) || !horizontalParent && subH > winH + 0.49) {\n\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\tif (!$sub.dataSM('scroll-arrows')) {\n\t\t\t\t\t\t\t$sub.dataSM('scroll-arrows', $([$('<span class=\"scroll-up\"><span class=\"scroll-up-arrow\"></span></span>')[0], $('<span class=\"scroll-down\"><span class=\"scroll-down-arrow\"></span></span>')[0]])\n\t\t\t\t\t\t\t\t.bind({\n\t\t\t\t\t\t\t\t\tmouseenter: function() {\n\t\t\t\t\t\t\t\t\t\t$sub.dataSM('scroll').up = $(this).hasClass('scroll-up');\n\t\t\t\t\t\t\t\t\t\tself.menuScroll($sub);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tmouseleave: function(e) {\n\t\t\t\t\t\t\t\t\t\tself.menuScrollStop($sub);\n\t\t\t\t\t\t\t\t\t\tself.menuScrollOut($sub, e);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t'mousewheel DOMMouseScroll': function(e) { e.preventDefault(); }\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.insertAfter($sub)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// bind scroll events and save scroll data for this sub\n\t\t\t\t\t\tvar eNS = '.smartmenus_scroll';\n\t\t\t\t\t\t$sub.dataSM('scroll', {\n\t\t\t\t\t\t\t\ty: this.cssTransforms3d ? 0 : y - itemH,\n\t\t\t\t\t\t\t\tstep: 1,\n\t\t\t\t\t\t\t\t// cache stuff for faster recalcs later\n\t\t\t\t\t\t\t\titemH: itemH,\n\t\t\t\t\t\t\t\tsubH: subH,\n\t\t\t\t\t\t\t\tarrowDownH: this.getHeight($sub.dataSM('scroll-arrows').eq(1))\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.bind(getEventsNS([\n\t\t\t\t\t\t\t\t['mouseover', function(e) { self.menuScrollOver($sub, e); }],\n\t\t\t\t\t\t\t\t['mouseout', function(e) { self.menuScrollOut($sub, e); }],\n\t\t\t\t\t\t\t\t['mousewheel DOMMouseScroll', function(e) { self.menuScrollMousewheel($sub, e); }]\n\t\t\t\t\t\t\t], eNS))\n\t\t\t\t\t\t\t.dataSM('scroll-arrows').css({ top: 'auto', left: '0', marginLeft: x + (parseInt($sub.css('border-left-width')) || 0), width: subW - (parseInt($sub.css('border-left-width')) || 0) - (parseInt($sub.css('border-right-width')) || 0), zIndex: $sub.css('z-index') })\n\t\t\t\t\t\t\t\t.eq(horizontalParent && this.opts.bottomToTopSubMenus ? 0 : 1).show();\n\t\t\t\t\t\t// when a menu tree is fixed positioned we allow scrolling via touch too\n\t\t\t\t\t\t// since there is no other way to access such long sub menus if no mouse is present\n\t\t\t\t\t\tif (this.isFixed()) {\n\t\t\t\t\t\t\t$sub.css({ 'touch-action': 'none', '-ms-touch-action': 'none' })\n\t\t\t\t\t\t\t\t.bind(getEventsNS([\n\t\t\t\t\t\t\t\t\t[touchEvents ? 'touchstart touchmove touchend' : 'pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp', function(e) {\n\t\t\t\t\t\t\t\t\t\tself.menuScrollTouch($sub, e);\n\t\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t\t], eNS));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$sub.css({ top: 'auto', left: '0', marginLeft: x, marginTop: y - itemH });\n\t\t\t\t// IE iframe shim\n\t\t\t\tthis.menuIframeShim($sub);\n\t\t\t\tif ($sub.dataSM('ie-shim')) {\n\t\t\t\t\t$sub.dataSM('ie-shim').css({ zIndex: $sub.css('z-index'), width: subW, height: subH, marginLeft: x, marginTop: y - itemH });\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuScroll: function($sub, once, step) {\n\t\t\t\tvar data = $sub.dataSM('scroll'),\n\t\t\t\t\t$arrows = $sub.dataSM('scroll-arrows'),\n\t\t\t\t\tend = data.up ? data.upEnd : data.downEnd,\n\t\t\t\t\tdiff;\n\t\t\t\tif (!once && data.momentum) {\n\t\t\t\t\tdata.momentum *= 0.92;\n\t\t\t\t\tdiff = data.momentum;\n\t\t\t\t\tif (diff < 0.5) {\n\t\t\t\t\t\tthis.menuScrollStop($sub);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdiff = step || (once || !this.opts.scrollAccelerate ? this.opts.scrollStep : Math.floor(data.step));\n\t\t\t\t}\n\t\t\t\t// hide any visible deeper level sub menus\n\t\t\t\tvar level = $sub.dataSM('level');\n\t\t\t\tif (this.activatedItems[level - 1] && this.activatedItems[level - 1].dataSM('sub') && this.activatedItems[level - 1].dataSM('sub').is(':visible')) {\n\t\t\t\t\tthis.menuHideSubMenus(level - 1);\n\t\t\t\t}\n\t\t\t\tdata.y = data.up && end <= data.y || !data.up && end >= data.y ? data.y : (Math.abs(end - data.y) > diff ? data.y + (data.up ? diff : -diff) : end);\n\t\t\t\t$sub.add($sub.dataSM('ie-shim')).css(this.cssTransforms3d ? { '-webkit-transform': 'translate3d(0, ' + data.y + 'px, 0)', transform: 'translate3d(0, ' + data.y + 'px, 0)' } : { marginTop: data.y });\n\t\t\t\t// show opposite arrow if appropriate\n\t\t\t\tif (mouse && (data.up && data.y > data.downEnd || !data.up && data.y < data.upEnd)) {\n\t\t\t\t\t$arrows.eq(data.up ? 1 : 0).show();\n\t\t\t\t}\n\t\t\t\t// if we've reached the end\n\t\t\t\tif (data.y == end) {\n\t\t\t\t\tif (mouse) {\n\t\t\t\t\t\t$arrows.eq(data.up ? 0 : 1).hide();\n\t\t\t\t\t}\n\t\t\t\t\tthis.menuScrollStop($sub);\n\t\t\t\t} else if (!once) {\n\t\t\t\t\tif (this.opts.scrollAccelerate && data.step < this.opts.scrollStep) {\n\t\t\t\t\t\tdata.step += 0.2;\n\t\t\t\t\t}\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tthis.scrollTimeout = requestAnimationFrame(function() { self.menuScroll($sub); });\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuScrollMousewheel: function($sub, e) {\n\t\t\t\tif (this.getClosestMenu(e.target) == $sub[0]) {\n\t\t\t\t\te = e.originalEvent;\n\t\t\t\t\tvar up = (e.wheelDelta || -e.detail) > 0;\n\t\t\t\t\tif ($sub.dataSM('scroll-arrows').eq(up ? 0 : 1).is(':visible')) {\n\t\t\t\t\t\t$sub.dataSM('scroll').up = up;\n\t\t\t\t\t\tthis.menuScroll($sub, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\te.preventDefault();\n\t\t\t},\n\t\t\tmenuScrollOut: function($sub, e) {\n\t\t\t\tif (mouse) {\n\t\t\t\t\tif (!/^scroll-(up|down)/.test((e.relatedTarget || '').className) && ($sub[0] != e.relatedTarget && !$.contains($sub[0], e.relatedTarget) || this.getClosestMenu(e.relatedTarget) != $sub[0])) {\n\t\t\t\t\t\t$sub.dataSM('scroll-arrows').css('visibility', 'hidden');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuScrollOver: function($sub, e) {\n\t\t\t\tif (mouse) {\n\t\t\t\t\tif (!/^scroll-(up|down)/.test(e.target.className) && this.getClosestMenu(e.target) == $sub[0]) {\n\t\t\t\t\t\tthis.menuScrollRefreshData($sub);\n\t\t\t\t\t\tvar data = $sub.dataSM('scroll'),\n\t\t\t\t\t\t\tupEnd = $(window).scrollTop() - $sub.dataSM('parent-a').offset().top - data.itemH;\n\t\t\t\t\t\t$sub.dataSM('scroll-arrows').eq(0).css('margin-top', upEnd).end()\n\t\t\t\t\t\t\t.eq(1).css('margin-top', upEnd + this.getViewportHeight() - data.arrowDownH).end()\n\t\t\t\t\t\t\t.css('visibility', 'visible');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuScrollRefreshData: function($sub) {\n\t\t\t\tvar data = $sub.dataSM('scroll'),\n\t\t\t\t\tupEnd = $(window).scrollTop() - $sub.dataSM('parent-a').offset().top - data.itemH;\n\t\t\t\tif (this.cssTransforms3d) {\n\t\t\t\t\tupEnd = -(parseFloat($sub.css('margin-top')) - upEnd);\n\t\t\t\t}\n\t\t\t\t$.extend(data, {\n\t\t\t\t\tupEnd: upEnd,\n\t\t\t\t\tdownEnd: upEnd + this.getViewportHeight() - data.subH\n\t\t\t\t});\n\t\t\t},\n\t\t\tmenuScrollStop: function($sub) {\n\t\t\t\tif (this.scrollTimeout) {\n\t\t\t\t\tcancelAnimationFrame(this.scrollTimeout);\n\t\t\t\t\tthis.scrollTimeout = 0;\n\t\t\t\t\t$sub.dataSM('scroll').step = 1;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuScrollTouch: function($sub, e) {\n\t\t\t\te = e.originalEvent;\n\t\t\t\tif (isTouchEvent(e)) {\n\t\t\t\t\tvar touchPoint = this.getTouchPoint(e);\n\t\t\t\t\t// neglect event if we touched a visible deeper level sub menu\n\t\t\t\t\tif (this.getClosestMenu(touchPoint.target) == $sub[0]) {\n\t\t\t\t\t\tvar data = $sub.dataSM('scroll');\n\t\t\t\t\t\tif (/(start|down)$/i.test(e.type)) {\n\t\t\t\t\t\t\tif (this.menuScrollStop($sub)) {\n\t\t\t\t\t\t\t\t// if we were scrolling, just stop and don't activate any link on the first touch\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tthis.$touchScrollingSub = $sub;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.$touchScrollingSub = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// update scroll data since the user might have zoomed, etc.\n\t\t\t\t\t\t\tthis.menuScrollRefreshData($sub);\n\t\t\t\t\t\t\t// extend it with the touch properties\n\t\t\t\t\t\t\t$.extend(data, {\n\t\t\t\t\t\t\t\ttouchStartY: touchPoint.pageY,\n\t\t\t\t\t\t\t\ttouchStartTime: e.timeStamp\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (/move$/i.test(e.type)) {\n\t\t\t\t\t\t\tvar prevY = data.touchY !== undefined ? data.touchY : data.touchStartY;\n\t\t\t\t\t\t\tif (prevY !== undefined && prevY != touchPoint.pageY) {\n\t\t\t\t\t\t\t\tthis.$touchScrollingSub = $sub;\n\t\t\t\t\t\t\t\tvar up = prevY < touchPoint.pageY;\n\t\t\t\t\t\t\t\t// changed direction? reset...\n\t\t\t\t\t\t\t\tif (data.up !== undefined && data.up != up) {\n\t\t\t\t\t\t\t\t\t$.extend(data, {\n\t\t\t\t\t\t\t\t\t\ttouchStartY: touchPoint.pageY,\n\t\t\t\t\t\t\t\t\t\ttouchStartTime: e.timeStamp\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$.extend(data, {\n\t\t\t\t\t\t\t\t\tup: up,\n\t\t\t\t\t\t\t\t\ttouchY: touchPoint.pageY\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthis.menuScroll($sub, true, Math.abs(touchPoint.pageY - prevY));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t} else { // touchend/pointerup\n\t\t\t\t\t\t\tif (data.touchY !== undefined) {\n\t\t\t\t\t\t\t\tif (data.momentum = Math.pow(Math.abs(touchPoint.pageY - data.touchStartY) / (e.timeStamp - data.touchStartTime), 2) * 15) {\n\t\t\t\t\t\t\t\t\tthis.menuScrollStop($sub);\n\t\t\t\t\t\t\t\t\tthis.menuScroll($sub);\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdelete data.touchY;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuShow: function($sub) {\n\t\t\t\tif (!$sub.dataSM('beforefirstshowfired')) {\n\t\t\t\t\t$sub.dataSM('beforefirstshowfired', true);\n\t\t\t\t\tif (this.$root.triggerHandler('beforefirstshow.smapi', $sub[0]) === false) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.$root.triggerHandler('beforeshow.smapi', $sub[0]) === false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$sub.dataSM('shown-before', true)\n\t\t\t\t\t.stop(true, true);\n\t\t\t\tif (!$sub.is(':visible')) {\n\t\t\t\t\t// highlight parent item\n\t\t\t\t\tvar $a = $sub.dataSM('parent-a');\n\t\t\t\t\tif (this.opts.keepHighlighted || this.isCollapsible()) {\n\t\t\t\t\t\t$a.addClass('highlighted');\n\t\t\t\t\t}\n\t\t\t\t\tif (this.isCollapsible()) {\n\t\t\t\t\t\t$sub.removeClass('sm-nowrap').css({ zIndex: '', width: 'auto', minWidth: '', maxWidth: '', top: '', left: '', marginLeft: '', marginTop: '' });\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// set z-index\n\t\t\t\t\t\t$sub.css('z-index', this.zIndexInc = (this.zIndexInc || this.getStartZIndex()) + 1);\n\t\t\t\t\t\t// min/max-width fix - no way to rely purely on CSS as all UL's are nested\n\t\t\t\t\t\tif (this.opts.subMenusMinWidth || this.opts.subMenusMaxWidth) {\n\t\t\t\t\t\t\t$sub.css({ width: 'auto', minWidth: '', maxWidth: '' }).addClass('sm-nowrap');\n\t\t\t\t\t\t\tif (this.opts.subMenusMinWidth) {\n\t\t\t\t\t\t\t \t$sub.css('min-width', this.opts.subMenusMinWidth);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.opts.subMenusMaxWidth) {\n\t\t\t\t\t\t\t \tvar noMaxWidth = this.getWidth($sub);\n\t\t\t\t\t\t\t \t$sub.css('max-width', this.opts.subMenusMaxWidth);\n\t\t\t\t\t\t\t\tif (noMaxWidth > this.getWidth($sub)) {\n\t\t\t\t\t\t\t\t\t$sub.removeClass('sm-nowrap').css('width', this.opts.subMenusMaxWidth);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.menuPosition($sub);\n\t\t\t\t\t\t// insert IE iframe shim\n\t\t\t\t\t\tif ($sub.dataSM('ie-shim')) {\n\t\t\t\t\t\t\t$sub.dataSM('ie-shim').insertBefore($sub);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar complete = function() {\n\t\t\t\t\t\t// fix: \"overflow: hidden;\" is not reset on animation complete in jQuery < 1.9.0 in Chrome when global \"box-sizing: border-box;\" is used\n\t\t\t\t\t\t$sub.css('overflow', '');\n\t\t\t\t\t};\n\t\t\t\t\t// if sub is collapsible (mobile view)\n\t\t\t\t\tif (this.isCollapsible()) {\n\t\t\t\t\t\tif (this.opts.collapsibleShowFunction) {\n\t\t\t\t\t\t\tthis.opts.collapsibleShowFunction.call(this, $sub, complete);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$sub.show(this.opts.collapsibleShowDuration, complete);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (this.opts.showFunction) {\n\t\t\t\t\t\t\tthis.opts.showFunction.call(this, $sub, complete);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$sub.show(this.opts.showDuration, complete);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// accessibility\n\t\t\t\t\t$a.attr('aria-expanded', 'true');\n\t\t\t\t\t$sub.attr({\n\t\t\t\t\t\t'aria-expanded': 'true',\n\t\t\t\t\t\t'aria-hidden': 'false'\n\t\t\t\t\t});\n\t\t\t\t\t// store sub menu in visible array\n\t\t\t\t\tthis.visibleSubMenus.push($sub);\n\t\t\t\t\tthis.$root.triggerHandler('show.smapi', $sub[0]);\n\t\t\t\t}\n\t\t\t},\n\t\t\tpopupHide: function(noHideTimeout) {\n\t\t\t\tif (this.hideTimeout) {\n\t\t\t\t\tclearTimeout(this.hideTimeout);\n\t\t\t\t\tthis.hideTimeout = 0;\n\t\t\t\t}\n\t\t\t\tvar self = this;\n\t\t\t\tthis.hideTimeout = setTimeout(function() {\n\t\t\t\t\tself.menuHideAll();\n\t\t\t\t}, noHideTimeout ? 1 : this.opts.hideTimeout);\n\t\t\t},\n\t\t\tpopupShow: function(left, top) {\n\t\t\t\tif (!this.opts.isPopup) {\n\t\t\t\t\talert('SmartMenus jQuery Error:\\n\\nIf you want to show this menu via the \"popupShow\" method, set the isPopup:true option.');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.hideTimeout) {\n\t\t\t\t\tclearTimeout(this.hideTimeout);\n\t\t\t\t\tthis.hideTimeout = 0;\n\t\t\t\t}\n\t\t\t\tthis.$root.dataSM('shown-before', true)\n\t\t\t\t\t.stop(true, true);\n\t\t\t\tif (!this.$root.is(':visible')) {\n\t\t\t\t\tthis.$root.css({ left: left, top: top });\n\t\t\t\t\t// IE iframe shim\n\t\t\t\t\tthis.menuIframeShim(this.$root);\n\t\t\t\t\tif (this.$root.dataSM('ie-shim')) {\n\t\t\t\t\t\tthis.$root.dataSM('ie-shim').css({ zIndex: this.$root.css('z-index'), width: this.getWidth(this.$root), height: this.getHeight(this.$root), left: left, top: top }).insertBefore(this.$root);\n\t\t\t\t\t}\n\t\t\t\t\t// show menu\n\t\t\t\t\tvar self = this,\n\t\t\t\t\t\tcomplete = function() {\n\t\t\t\t\t\t\tself.$root.css('overflow', '');\n\t\t\t\t\t\t};\n\t\t\t\t\tif (this.opts.showFunction) {\n\t\t\t\t\t\tthis.opts.showFunction.call(this, this.$root, complete);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$root.show(this.opts.showDuration, complete);\n\t\t\t\t\t}\n\t\t\t\t\tthis.visibleSubMenus[0] = this.$root;\n\t\t\t\t}\n\t\t\t},\n\t\t\trefresh: function() {\n\t\t\t\tthis.destroy(true);\n\t\t\t\tthis.init(true);\n\t\t\t},\n\t\t\trootKeyDown: function(e) {\n\t\t\t\tif (!this.handleEvents()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tswitch (e.keyCode) {\n\t\t\t\t\tcase 27: // reset on Esc\n\t\t\t\t\t\tvar $activeTopItem = this.activatedItems[0];\n\t\t\t\t\t\tif ($activeTopItem) {\n\t\t\t\t\t\t\tthis.menuHideAll();\n\t\t\t\t\t\t\t$activeTopItem[0].focus();\n\t\t\t\t\t\t\tvar $sub = $activeTopItem.dataSM('sub');\n\t\t\t\t\t\t\tif ($sub) {\n\t\t\t\t\t\t\t\tthis.menuHide($sub);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 32: // activate item's sub on Space\n\t\t\t\t\t\tvar $target = $(e.target);\n\t\t\t\t\t\tif ($target.is('a') && this.handleItemEvents($target)) {\n\t\t\t\t\t\t\tvar $sub = $target.dataSM('sub');\n\t\t\t\t\t\t\tif ($sub && !$sub.is(':visible')) {\n\t\t\t\t\t\t\t\tthis.itemClick({ currentTarget: e.target });\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\trootOut: function(e) {\n\t\t\t\tif (!this.handleEvents() || this.isTouchMode() || e.target == this.$root[0]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.hideTimeout) {\n\t\t\t\t\tclearTimeout(this.hideTimeout);\n\t\t\t\t\tthis.hideTimeout = 0;\n\t\t\t\t}\n\t\t\t\tif (!this.opts.showOnClick || !this.opts.hideOnClick) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tthis.hideTimeout = setTimeout(function() { self.menuHideAll(); }, this.opts.hideTimeout);\n\t\t\t\t}\n\t\t\t},\n\t\t\trootOver: function(e) {\n\t\t\t\tif (!this.handleEvents() || this.isTouchMode() || e.target == this.$root[0]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.hideTimeout) {\n\t\t\t\t\tclearTimeout(this.hideTimeout);\n\t\t\t\t\tthis.hideTimeout = 0;\n\t\t\t\t}\n\t\t\t},\n\t\t\twinResize: function(e) {\n\t\t\t\tif (!this.handleEvents()) {\n\t\t\t\t\t// we still need to resize the disable overlay if it's visible\n\t\t\t\t\tif (this.$disableOverlay) {\n\t\t\t\t\t\tvar pos = this.$root.offset();\n\t \t\t\t\t\tthis.$disableOverlay.css({\n\t\t\t\t\t\t\ttop: pos.top,\n\t\t\t\t\t\t\tleft: pos.left,\n\t\t\t\t\t\t\twidth: this.$root.outerWidth(),\n\t\t\t\t\t\t\theight: this.$root.outerHeight()\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// hide sub menus on resize - on mobile do it only on orientation change\n\t\t\t\tif (!('onorientationchange' in window) || e.type == 'orientationchange') {\n\t\t\t\t\tvar isCollapsible = this.isCollapsible();\n\t\t\t\t\t// if it was collapsible before resize and still is, don't do it\n\t\t\t\t\tif (!(this.wasCollapsible && isCollapsible)) { \n\t\t\t\t\t\tif (this.activatedItems.length) {\n\t\t\t\t\t\t\tthis.activatedItems[this.activatedItems.length - 1][0].blur();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.menuHideAll();\n\t\t\t\t\t}\n\t\t\t\t\tthis.wasCollapsible = isCollapsible;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t$.fn.dataSM = function(key, val) {\n\t\tif (val) {\n\t\t\treturn this.data(key + '_smartmenus', val);\n\t\t}\n\t\treturn this.data(key + '_smartmenus');\n\t}\n\n\t$.fn.removeDataSM = function(key) {\n\t\treturn this.removeData(key + '_smartmenus');\n\t}\n\n\t$.fn.smartmenus = function(options) {\n\t\tif (typeof options == 'string') {\n\t\t\tvar args = arguments,\n\t\t\t\tmethod = options;\n\t\t\tArray.prototype.shift.call(args);\n\t\t\treturn this.each(function() {\n\t\t\t\tvar smartmenus = $(this).data('smartmenus');\n\t\t\t\tif (smartmenus && smartmenus[method]) {\n\t\t\t\t\tsmartmenus[method].apply(smartmenus, args);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tvar opts = $.extend({}, $.fn.smartmenus.defaults, options);\n\t\treturn this.each(function() {\n\t\t\tnew $.SmartMenus(this, opts);\n\t\t});\n\t}\n\n\t// default settings\n\t$.fn.smartmenus.defaults = {\n\t\tisPopup:\t\tfalse,\t\t// is this a popup menu (can be shown via the popupShow/popupHide methods) or a permanent menu bar\n\t\tmainMenuSubOffsetX:\t0,\t\t// pixels offset from default position\n\t\tmainMenuSubOffsetY:\t0,\t\t// pixels offset from default position\n\t\tsubMenusSubOffsetX:\t0,\t\t// pixels offset from default position\n\t\tsubMenusSubOffsetY:\t0,\t\t// pixels offset from default position\n\t\tsubMenusMinWidth:\t'10em',\t\t// min-width for the sub menus (any CSS unit) - if set, the fixed width set in CSS will be ignored\n\t\tsubMenusMaxWidth:\t'20em',\t\t// max-width for the sub menus (any CSS unit) - if set, the fixed width set in CSS will be ignored\n\t\tsubIndicators: \t\ttrue,\t\t// create sub menu indicators - creates a SPAN and inserts it in the A\n\t\tsubIndicatorsPos: \t'prepend',\t// position of the SPAN relative to the menu item content ('prepend', 'append')\n\t\tsubIndicatorsText:\t'+',\t\t// [optionally] add text in the SPAN (e.g. '+') (you may want to check the CSS for the sub indicators too)\n\t\tscrollStep: \t\t30,\t\t// pixels step when scrolling long sub menus that do not fit in the viewport height\n\t\tscrollAccelerate:\ttrue,\t\t// accelerate scrolling or use a fixed step\n\t\tshowTimeout:\t\t250,\t\t// timeout before showing the sub menus\n\t\thideTimeout:\t\t500,\t\t// timeout before hiding the sub menus\n\t\tshowDuration:\t\t0,\t\t// duration for show animation - set to 0 for no animation - matters only if showFunction:null\n\t\tshowFunction:\t\tnull,\t\t// custom function to use when showing a sub menu (the default is the jQuery 'show')\n\t\t\t\t\t\t\t// don't forget to call complete() at the end of whatever you do\n\t\t\t\t\t\t\t// e.g.: function($ul, complete) { $ul.fadeIn(250, complete); }\n\t\thideDuration:\t\t0,\t\t// duration for hide animation - set to 0 for no animation - matters only if hideFunction:null\n\t\thideFunction:\t\tfunction($ul, complete) { $ul.fadeOut(200, complete); },\t// custom function to use when hiding a sub menu (the default is the jQuery 'hide')\n\t\t\t\t\t\t\t// don't forget to call complete() at the end of whatever you do\n\t\t\t\t\t\t\t// e.g.: function($ul, complete) { $ul.fadeOut(250, complete); }\n\t\tcollapsibleShowDuration:0,\t\t// duration for show animation for collapsible sub menus - matters only if collapsibleShowFunction:null\n\t\tcollapsibleShowFunction:function($ul, complete) { $ul.slideDown(200, complete); },\t// custom function to use when showing a collapsible sub menu\n\t\t\t\t\t\t\t// (i.e. when mobile styles are used to make the sub menus collapsible)\n\t\tcollapsibleHideDuration:0,\t\t// duration for hide animation for collapsible sub menus - matters only if collapsibleHideFunction:null\n\t\tcollapsibleHideFunction:function($ul, complete) { $ul.slideUp(200, complete); },\t// custom function to use when hiding a collapsible sub menu\n\t\t\t\t\t\t\t// (i.e. when mobile styles are used to make the sub menus collapsible)\n\t\tshowOnClick:\t\tfalse,\t\t// show the first-level sub menus onclick instead of onmouseover (i.e. mimic desktop app menus) (matters only for mouse input)\n\t\thideOnClick:\t\ttrue,\t\t// hide the sub menus on click/tap anywhere on the page\n\t\tnoMouseOver:\t\tfalse,\t\t// disable sub menus activation onmouseover (i.e. behave like in touch mode - use just mouse clicks) (matters only for mouse input)\n\t\tkeepInViewport:\t\ttrue,\t\t// reposition the sub menus if needed to make sure they always appear inside the viewport\n\t\tkeepHighlighted:\ttrue,\t\t// keep all ancestor items of the current sub menu highlighted (adds the 'highlighted' class to the A's)\n\t\tmarkCurrentItem:\tfalse,\t\t// automatically add the 'current' class to the A element of the item linking to the current URL\n\t\tmarkCurrentTree:\ttrue,\t\t// add the 'current' class also to the A elements of all ancestor items of the current item\n\t\trightToLeftSubMenus:\tfalse,\t\t// right to left display of the sub menus (check the CSS for the sub indicators' position)\n\t\tbottomToTopSubMenus:\tfalse,\t\t// bottom to top display of the sub menus\n\t\toverlapControlsInIE:\ttrue\t\t// make sure sub menus appear on top of special OS controls in IE (i.e. SELECT, OBJECT, EMBED, etc.)\n\t};\n\n\treturn $;\n}));"]},"metadata":{},"sourceType":"module"}